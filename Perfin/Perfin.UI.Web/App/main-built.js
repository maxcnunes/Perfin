/**
 * almond 0.2.0 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

(function(){var e,t,n;(function(r){function a(e,t){var n,r,a,o,i,s,c,l,u,d,f=t&&t.split("/"),p=b.map,m=p&&p["*"]||{};if(e&&"."===e.charAt(0)&&t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),l=0;e.length>l;l+=1)if(d=e[l],"."===d)e.splice(l,1),l-=1;else if(".."===d){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((f||m)&&p){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),f)for(u=f.length;u>0;u-=1)if(a=p[f.slice(0,u).join("/")],a&&(a=a[r])){o=a,i=l;break}if(o)break;!s&&m&&m[r]&&(s=m[r],c=l)}!o&&s&&(o=s,i=c),o&&(n.splice(0,i,o),e=n.join("/"))}return e}function o(e,t){return function(){return p.apply(r,w.call(arguments,0).concat([e,t]))}}function i(e){return function(t){return a(t,e)}}function s(e){return function(t){g[e]=t}}function c(e){if(h.hasOwnProperty(e)){var t=h[e];delete h[e],y[e]=!0,f.apply(r,t)}if(!g.hasOwnProperty(e)&&!y.hasOwnProperty(e))throw Error("No "+e);return g[e]}function l(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(t,n,r){e.onResourceLoad&&t&&e.onResourceLoad({defined:n},{id:t},r)}function d(e){return function(){return b&&b.config&&b.config[e]||{}}}var f,p,m,v,g={},h={},b={},y={},w=[].slice;m=function(e,t){var n,r=l(e),o=r[0];return e=r[1],o&&(o=a(o,t),n=c(o)),o?e=n&&n.normalize?n.normalize(e,i(t)):a(e,t):(e=a(e,t),r=l(e),o=r[0],e=r[1],o&&(n=c(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},v={require:function(e){return o(e)},exports:function(e){var t=g[e];return t!==void 0?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},f=function(e,t,n,a){var i,l,d,f,p,b,w=[];if(a=a||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;t.length>p;p+=1)if(f=m(t[p],a),l=f.f,"require"===l)w[p]=v.require(e);else if("exports"===l)w[p]=v.exports(e),b=!0;else if("module"===l)i=w[p]=v.module(e);else if(g.hasOwnProperty(l)||h.hasOwnProperty(l)||y.hasOwnProperty(l))w[p]=c(l);else{if(!f.p)throw Error(e+" missing "+l);f.p.load(f.n,o(a,!0),s(l),{}),w[p]=g[l]}d=n.apply(g[e],w),e&&(i&&i.exports!==r&&i.exports!==g[e]?g[e]=i.exports:d===r&&b||(g[e]=d))}else e&&(g[e]=n);u(e,g,w)},e=t=p=function(e,t,n,a,o){return"string"==typeof e?v[e]?v[e](t):c(m(e,t).f):(e.splice||(b=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=a,a=o),a?f(r,e,t,n):setTimeout(function(){f(r,e,t,n)},15),p)},p.config=function(e){return b=e,p},n=function(e,t,n){t.splice||(n=t,t=[]),h[e]=[e,t,n]},n.amd={jQuery:!0}})(),n("durandal/amd/almond-custom",function(){}),n("main-built",function(){}),n("durandal/system",["require"],function(t){var n,r=!1,a=Object.keys,o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=!1;if(Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log)try{["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}catch(c){s=!0}t.on&&t.on("moduleLoaded",function(e,t){n.setModuleId(e,t)}),e!==void 0&&(e.onResourceLoad=function(e,t){n.setModuleId(e.defined[t.id],t.id)});var l=function(){},u=function(){try{if("undefined"!=typeof console&&"function"==typeof console.log)if(window.opera)for(var e=0;arguments.length>e;)console.log("Item "+(e+1)+": "+arguments[e]),e++;else 1==Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?console.log(""+Array.prototype.slice.call(arguments)):console.log(Array.prototype.slice.call(arguments));else Function.prototype.bind&&!s||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}catch(t){}};return n={version:"1.2.0",noop:l,getModuleId:function(e){return e?"function"==typeof e?e.prototype.__moduleId__:"string"==typeof e?null:e.__moduleId__:null},setModuleId:function(e,t){return e?"function"==typeof e?(e.prototype.__moduleId__=t,void 0):("string"!=typeof e&&(e.__moduleId__=t),void 0):void 0},debug:function(e){return 1!=arguments.length?r:(r=e,r?(this.log=u,this.log("Debug mode enabled.")):(this.log("Debug mode disabled."),this.log=l),void 0)},isArray:function(e){return"[object Array]"===i.call(e)},log:l,defer:function(e){return $.Deferred(e)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)})},acquire:function(){var e=Array.prototype.slice.call(arguments,0);return this.defer(function(n){t(e,function(){var e=arguments;setTimeout(function(){n.resolve.apply(n,e)},1)})}).promise()}},n.keys=a||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)o.call(e,n)&&(t[t.length]=n);return t},n}),n("durandal/viewEngine",["./system"],function(e){var t;return t=$.parseHTML?function(e){return $.parseHTML(e)}:function(e){return $(e).get()},{viewExtension:".html",viewPlugin:"text",isViewUrl:function(e){return-1!==e.indexOf(this.viewExtension,e.length-this.viewExtension.length)},convertViewUrlToViewId:function(e){return e.substring(0,e.length-this.viewExtension.length)},convertViewIdToRequirePath:function(e){return this.viewPlugin+"!"+e+this.viewExtension},parseMarkup:function(e){var n=t(e);if(1==n.length)return n[0];for(var r=[],a=0;n.length>a;a++){var o=n[a];if(8!=o.nodeType){if(3==o.nodeType){var i=/\S/.test(o.nodeValue);if(!i)continue}r.push(o)}}return r.length>1?$(r).wrapAll('<div class="durandal-wrapper"></div>').parent().get(0):r[0]},createView:function(t){var n=this,r=this.convertViewIdToRequirePath(t);return e.defer(function(a){e.acquire(r).then(function(e){var r=n.parseMarkup(e);r.setAttribute("data-view",t),a.resolve(r)})}).promise()}}}),n("durandal/viewLocator",["./system","./viewEngine"],function(e,t){function n(e,t){for(var n=0;e.length>n;n++){var r=e[n],a=r.getAttribute("data-view");if(a==t)return r}}function r(e){return(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")}return{useConvention:function(e,t,n){e=e||"viewmodels",t=t||"views",n=n||t;var a=RegExp(r(e),"gi");this.convertModuleIdToViewId=function(e){return e.replace(a,t)},this.translateViewIdToArea=function(e,t){return t&&"partial"!=t?n+"/"+t+"/"+e:n+"/"+e}},locateViewForObject:function(t,n){var r;if(t.getView&&(r=t.getView()))return this.locateView(r,null,n);if(t.viewUrl)return this.locateView(t.viewUrl,null,n);var a=e.getModuleId(t);return a?this.locateView(this.convertModuleIdToViewId(a),null,n):this.locateView(this.determineFallbackViewId(t),null,n)},convertModuleIdToViewId:function(e){return e},determineFallbackViewId:function(e){var t=/function (.{1,})\(/,n=t.exec(""+e.constructor),r=n&&n.length>1?n[1]:"";return"views/"+r},translateViewIdToArea:function(e){return e},locateView:function(r,a,o){if("string"==typeof r){var i;if(i=t.isViewUrl(r)?t.convertViewUrlToViewId(r):r,a&&(i=this.translateViewIdToArea(i,a)),o){var s=n(o,i);if(s)return e.defer(function(e){e.resolve(s)}).promise()}return t.createView(i)}return e.defer(function(e){e.resolve(r)}).promise()}}}),n("durandal/viewModelBinder",["./system"],function(e){function t(t,o,i){if(!o||!t){if(n.throwOnErrors)throw Error(r);return e.log(r,o,t),void 0}if(!o.getAttribute){if(n.throwOnErrors)throw Error(a);return e.log(a,o,t),void 0}var s=o.getAttribute("data-view");try{e.log("Binding",s,t),n.beforeBind(t,o),i(),n.afterBind(t,o)}catch(c){if(n.throwOnErrors)throw Error(c.message+";\nView: "+s+";\nModuleId: "+e.getModuleId(t));e.log(c.message,s,t)}}var n,r="Insufficient Information to Bind",a="Unexpected View Type";return n={beforeBind:e.noop,afterBind:e.noop,bindContext:function(e,n,r){r&&(e=e.createChildContext(r)),t(e,n,function(){r&&r.beforeBind&&r.beforeBind(n),ko.applyBindings(e,n),r&&r.afterBind&&r.afterBind(n)})},bind:function(e,n){t(e,n,function(){e.beforeBind&&e.beforeBind(n),ko.applyBindings(e,n),e.afterBind&&e.afterBind(n)})}}}),n("durandal/viewModel",["./system"],function(e){function t(e){return void 0==e&&(e={}),e.closeOnDeactivate||(e.closeOnDeactivate=s.defaults.closeOnDeactivate),e.beforeActivate||(e.beforeActivate=s.defaults.beforeActivate),e.afterDeactivate||(e.afterDeactivate=s.defaults.afterDeactivate),e.interpretResponse||(e.interpretResponse=s.defaults.interpretResponse),e.areSameItem||(e.areSameItem=s.defaults.areSameItem),e}function n(t,n,r,a,o){if(t&&t.deactivate){e.log("Deactivating",t);var i;try{i=t.deactivate(n)}catch(s){return e.log(s),a.resolve(!1),void 0}i&&i.then?i.then(function(){r.afterDeactivate(t,n,o),a.resolve(!0)},function(t){e.log(t),a.resolve(!1)}):(r.afterDeactivate(t,n,o),a.resolve(!0))}else t&&r.afterDeactivate(t,n,o),a.resolve(!0)}function r(t,n,r,a){if(t)if(t.activate){e.log("Activating",t);var o;try{o=t.activate(a)}catch(i){return e.log(i),r(!1),void 0}o&&o.then?o.then(function(){n(t),r(!0)},function(t){e.log(t),r(!1)}):(n(t),r(!0))}else n(t),r(!0);else r(!0)}function a(t,n,r){return e.defer(function(a){if(t&&t.canDeactivate){var o;try{o=t.canDeactivate(n)}catch(i){return e.log(i),a.resolve(!1),void 0}o.then?o.then(function(e){a.resolve(r.interpretResponse(e))},function(t){e.log(t),a.resolve(!1)}):a.resolve(r.interpretResponse(o))}else a.resolve(!0)}).promise()}function o(t,n,r,a){return e.defer(function(o){if(t==n())return o.resolve(!0),void 0;if(t&&t.canActivate){var i;try{i=t.canActivate(a)}catch(s){return e.log(s),o.resolve(!1),void 0}i.then?i.then(function(e){o.resolve(r.interpretResponse(e))},function(t){e.log(t),o.resolve(!1)}):o.resolve(r.interpretResponse(i))}else o.resolve(!0)}).promise()}function i(i,s){var c=ko.observable(null);s=t(s);var l=ko.computed({read:function(){return c()},write:function(e){l.viaSetter=!0,l.activateItem(e)}});return l.settings=s,s.activator=l,l.isActivating=ko.observable(!1),l.canDeactivateItem=function(e,t){return a(e,t,s)},l.deactivateItem=function(t,r){return e.defer(function(e){l.canDeactivateItem(t,r).then(function(a){a?n(t,r,s,e,c):(l.notifySubscribers(),e.resolve(!1))})}).promise()},l.canActivateItem=function(e,t){return o(e,c,s,t)},l.activateItem=function(t,a){var o=l.viaSetter;return l.viaSetter=!1,e.defer(function(i){if(l.isActivating())return i.resolve(!1),void 0;l.isActivating(!0);var u=c();return s.areSameItem(u,t,a)?(l.isActivating(!1),i.resolve(!0),void 0):(l.canDeactivateItem(u,s.closeOnDeactivate).then(function(d){d?l.canActivateItem(t,a).then(function(d){d?e.defer(function(e){n(u,s.closeOnDeactivate,s,e)}).promise().then(function(){t=s.beforeActivate(t,a),r(t,c,function(e){l.isActivating(!1),i.resolve(e)},a)}):(o&&l.notifySubscribers(),l.isActivating(!1),i.resolve(!1))}):(o&&l.notifySubscribers(),l.isActivating(!1),i.resolve(!1))}),void 0)}).promise()},l.canActivate=function(){var e;return i?(e=i,i=!1):e=l(),l.canActivateItem(e)},l.activate=function(){var e;return i?(e=i,i=!1):e=l(),l.activateItem(e)},l.canDeactivate=function(e){return l.canDeactivateItem(l(),e)},l.deactivate=function(e){return l.deactivateItem(l(),e)},l.includeIn=function(e){e.canActivate=function(){return l.canActivate()},e.activate=function(){return l.activate()},e.canDeactivate=function(e){return l.canDeactivate(e)},e.deactivate=function(e){return l.deactivate(e)}},s.includeIn?l.includeIn(s.includeIn):i&&l.activate(),l.forItems=function(t){s.closeOnDeactivate=!1,s.determineNextItemToActivate=function(e,t){var n=t-1;return-1==n&&e.length>1?e[1]:n>-1&&e.length-1>n?e[n]:null},s.beforeActivate=function(e){var n=l();if(e){var r=t.indexOf(e);-1==r?t.push(e):e=t()[r]}else e=s.determineNextItemToActivate(t,n?t.indexOf(n):0);return e},s.afterDeactivate=function(e,n){n&&t.remove(e)};var n=l.canDeactivate;l.canDeactivate=function(r){return r?e.defer(function(e){function n(){for(var t=0;o.length>t;t++)if(!o[t])return e.resolve(!1),void 0;e.resolve(!0)}for(var a=t(),o=[],i=0;a.length>i;i++)l.canDeactivateItem(a[i],r).then(function(e){o.push(e),o.length==a.length&&n()})}).promise():n()};var r=l.deactivate;return l.deactivate=function(n){return n?e.defer(function(e){function r(r){l.deactivateItem(r,n).then(function(){o++,t.remove(r),o==i&&e.resolve()})}for(var a=t(),o=0,i=a.length,s=0;i>s;s++)r(a[s])}).promise():r()},l},l}var s;return s={defaults:{closeOnDeactivate:!0,interpretResponse:function(e){if("string"==typeof e){var t=e.toLowerCase();return"yes"==t||"ok"==t}return e},areSameItem:function(e,t){return e==t},beforeActivate:function(e){return e},afterDeactivate:function(e,t,n){t&&n&&n(null)}},activator:i}}),n("durandal/composition",["./viewLocator","./viewModelBinder","./viewEngine","./system","./viewModel"],function(e,t,n,r,a){function o(e){return e.model&&e.model.activate&&(f.activateDuringComposition&&void 0==e.activate||e.activate)}function i(e,t){o(e)?a.activator().activateItem(e.model).then(function(e){e&&t()}):t()}function s(e){for(var t=[],n={childElements:t,activeView:null},r=ko.virtualElements.firstChild(e);r;)1==r.nodeType&&(t.push(r),r.getAttribute(d)&&(n.activeView=r)),r=ko.virtualElements.nextSibling(r);return n}function c(e,t,n){n.activeView&&n.activeView.removeAttribute(d),t&&(n.model&&n.model.viewAttached&&(n.composingNewView||n.alwaysAttachView)&&n.model.viewAttached(t),t.setAttribute(d,!0)),n.afterCompose&&n.afterCompose(e,t,n)}function l(e,t){if("string"==typeof t.transition){if(t.activeView){if(t.activeView==e)return!1;if(!e)return!0;if(t.skipTransitionOnSameViewId){var n=t.activeView.getAttribute("data-view"),r=e.getAttribute("data-view");return n!=r}}return!0}return!1}var u={},d="data-active-view",f={activateDuringComposition:!1,convertTransitionToModuleId:function(e){return"durandal/transitions/"+e},switchContent:function(e,t,n){if(n.transition=n.transition||this.defaultTransitionName,l(t,n)){var a=this.convertTransitionToModuleId(n.transition);r.acquire(a).then(function(r){n.transition=r,r(e,t,n).then(function(){c(e,t,n)})})}else t!=n.activeView&&(n.cacheViews&&n.activeView&&$(n.activeView).css("display","none"),t?n.cacheViews?n.composingNewView?(n.viewElements.push(t),ko.virtualElements.prepend(e,t)):$(t).css("display",""):(ko.virtualElements.emptyNode(e),ko.virtualElements.prepend(e,t)):n.cacheViews||ko.virtualElements.emptyNode(e)),c(e,t,n)},bindAndShow:function(e,r,a){a.composingNewView=a.cacheViews?-1==ko.utils.arrayIndexOf(a.viewElements,r):!0,i(a,function(){if(a.beforeBind&&a.beforeBind(e,r,a),a.preserveContext&&a.bindingContext)a.composingNewView&&t.bindContext(a.bindingContext,r,a.model);else if(r){var o=a.model||u,i=ko.dataFor(r);if(i!=o){if(!a.composingNewView)return $(r).remove(),n.createView(r.getAttribute("data-view")).then(function(t){f.bindAndShow(e,t,a)}),void 0;t.bind(o,r)}}f.switchContent(e,r,a)})},defaultStrategy:function(t){return e.locateViewForObject(t.model,t.viewElements)},getSettings:function(e){var t=ko.utils.unwrapObservable(e())||{};if("string"==typeof t)return t;var n=r.getModuleId(t);if(n)return{model:t};for(var a in t)t[a]=ko.utils.unwrapObservable(t[a]);return t},executeStrategy:function(e,t){t.strategy(t).then(function(n){f.bindAndShow(e,n,t)})},inject:function(t,n){return n.model?n.view?(e.locateView(n.view,n.area,n.viewElements).then(function(e){f.bindAndShow(t,e,n)}),void 0):((void 0===n.view||n.view)&&(n.strategy||(n.strategy=this.defaultStrategy),"string"==typeof n.strategy?r.acquire(n.strategy).then(function(e){n.strategy=e,f.executeStrategy(t,n)}):this.executeStrategy(t,n)),void 0):(this.bindAndShow(t,null,n),void 0)},compose:function(t,a,o){"string"==typeof a&&(a=n.isViewUrl(a)?{view:a}:{model:a});var i=r.getModuleId(a);i&&(a={model:a});var c=s(t);a.bindingContext=o,a.activeView=c.activeView,a.cacheViews&&!a.viewElements&&(a.viewElements=c.childElements),a.model?"string"==typeof a.model?r.acquire(a.model).then(function(e){a.model="function"==typeof e?new e(t,a):e,f.inject(t,a)}):f.inject(t,a):a.view?(a.area=a.area||"partial",a.preserveContext=!0,e.locateView(a.view,a.area,a.viewElements).then(function(e){f.bindAndShow(t,e,a)})):this.bindAndShow(t,null,a)}};return ko.bindingHandlers.compose={update:function(e,t,n,r,a){var o=f.getSettings(t);f.compose(e,o,a)}},ko.virtualElements.allowedBindings.compose=!0,f}),n("durandal/widget",["./system","./composition"],function(e,t){var n="data-part",r="["+n+"]",a={},o={},i=["model","view","kind"],s={getParts:function(t){var a={};e.isArray(t)||(t=[t]);for(var o=0;t.length>o;o++){var i=t[o];if(i.getAttribute){var s=i.getAttribute(n);s&&(a[s]=i);for(var c=$(r,i),l=0;c.length>l;l++){var u=c.get(l);a[u.getAttribute(n)]=u}}}return a},getSettings:function(e){var t=ko.utils.unwrapObservable(e())||{};if("string"==typeof t)return t;for(var n in t)t[n]=-1!=ko.utils.arrayIndexOf(i,n)?ko.utils.unwrapObservable(t[n]):t[n];return t},registerKind:function(e){ko.bindingHandlers[e]={init:function(){return{controlsDescendantBindings:!0}},update:function(t,n,r,a,o){var i=s.getSettings(n);i.kind=e,s.create(t,i,o)}},ko.virtualElements.allowedBindings[e]=!0},mapKind:function(e,t,n){t&&(o[e]=t),n&&(a[e]=n)},convertKindToModuleId:function(e){return a[e]||"durandal/widgets/"+e+"/controller"},convertKindToViewId:function(e){return o[e]||"durandal/widgets/"+e+"/view"},beforeBind:function(e,t){var n=s.getParts(e),r=s.getParts(t);for(var a in n)$(r[a]).replaceWith(n[a])},createCompositionSettings:function(e){return e.model||(e.model=this.convertKindToModuleId(e.kind)),e.view||(e.view=this.convertKindToViewId(e.kind)),e.preserveContext=!0,e.beforeBind=this.beforeBind,e},create:function(e,n,r){"string"==typeof n&&(n={kind:n});var a=s.createCompositionSettings(n);t.compose(e,a,r)}};return ko.bindingHandlers.widget={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,r,a){var o=s.getSettings(t);s.create(e,o,a)}},ko.virtualElements.allowedBindings.widget=!0,s}),n("durandal/modalDialog",["./composition","./system","./viewModel"],function(e,t,n){function r(e){return t.defer(function(n){"string"==typeof e?t.acquire(e).then(function(e){"function"==typeof e?n.resolve(new e):n.resolve(e)}):n.resolve(e)}).promise()}var a={},o=0,i={currentZIndex:1050,getNextZIndex:function(){return++this.currentZIndex},isModalOpen:function(){return o>0},getContext:function(e){return a[e||"default"]},addContext:function(e,t){t.name=e,a[e]=t;var n="show"+e.substr(0,1).toUpperCase()+e.substr(1);this[n]=function(t,n){return this.show(t,n,e)}},createCompositionSettings:function(e,t){var n={model:e,activate:!1};return t.afterCompose&&(n.afterCompose=t.afterCompose),n},show:function(i,s,c){var l=this,u=a[c||"default"];return t.defer(function(t){r(i).then(function(r){var a=n.activator();a.activateItem(r,s).then(function(n){if(n){var i=r.modal={owner:r,context:u,activator:a,close:function(){var e=arguments;a.deactivateItem(r,!0).then(function(n){n&&(o--,u.removeHost(i),delete r.modal,t.resolve.apply(t,e))})}};i.settings=l.createCompositionSettings(r,u),u.addHost(i),o++,e.compose(i.host,i.settings)}else t.resolve(!1)})})}).promise()}};return i.addContext("default",{blockoutOpacity:.2,removeDelay:200,addHost:function(e){var t=$("body"),n=$('<div class="modalBlockout"></div>').css({"z-index":i.getNextZIndex(),opacity:this.blockoutOpacity}).appendTo(t),r=$('<div class="modalHost"></div>').css({"z-index":i.getNextZIndex()}).appendTo(t);if(e.host=r.get(0),e.blockout=n.get(0),!i.isModalOpen()){e.oldBodyMarginRight=$("body").css("margin-right");var a=$("html"),o=t.outerWidth(!0),s=a.scrollTop();$("html").css("overflow-y","hidden");var c=$("body").outerWidth(!0);t.css("margin-right",c-o+parseInt(e.oldBodyMarginRight)+"px"),a.scrollTop(s),$("#simplemodal-overlay").css("width",c+"px")}},removeHost:function(e){if($(e.host).css("opacity",0),$(e.blockout).css("opacity",0),setTimeout(function(){$(e.host).remove(),$(e.blockout).remove()},this.removeDelay),!i.isModalOpen()){var t=$("html"),n=t.scrollTop();t.css("overflow-y","").scrollTop(n),$("body").css("margin-right",e.oldBodyMarginRight)}},afterCompose:function(e,t,n){var r=$(t),a=r.width(),o=r.height();r.css({"margin-top":""+-o/2+"px","margin-left":""+-a/2+"px"}),$(n.model.modal.host).css("opacity",1),$(t).hasClass("autoclose")&&$(n.model.modal.blockout).click(function(){n.model.modal.close()}),$(".autofocus",t).each(function(){$(this).focus()})}}),i}),n("durandal/events",["./system"],function(e){var t=/\s+/,n=function(){},r=function(e,t){this.owner=e,this.events=t};return r.prototype.then=function(e,t){return this.callback=e||this.callback,this.context=t||this.context,this.callback?(this.owner.on(this.events,this.callback,this.context),this):this},r.prototype.on=r.prototype.then,r.prototype.off=function(){return this.owner.off(this.events,this.callback,this.context),this},n.prototype.on=function(e,n,a){var o,i,s;if(n){for(o=this.callbacks||(this.callbacks={}),e=e.split(t);i=e.shift();)s=o[i]||(o[i]=[]),s.push(n,a);return this}return new r(this,e)},n.prototype.off=function(n,r,a){var o,i,s,c;if(!(i=this.callbacks))return this;if(!(n||r||a))return delete this.callbacks,this;for(n=n?n.split(t):e.keys(i);o=n.shift();)if((s=i[o])&&(r||a))for(c=s.length-2;c>=0;c-=2)r&&s[c]!==r||a&&s[c+1]!==a||s.splice(c,2);else delete i[o];return this},n.prototype.trigger=function(e){var n,r,a,o,i,s,c,l;if(!(r=this.callbacks))return this;for(l=[],e=e.split(t),o=1,i=arguments.length;i>o;o++)l[o-1]=arguments[o];for(;n=e.shift();){if((c=r.all)&&(c=c.slice()),(a=r[n])&&(a=a.slice()),a)for(o=0,i=a.length;i>o;o+=2)a[o].apply(a[o+1]||this,l);if(c)for(s=[n].concat(l),o=0,i=c.length;i>o;o+=2)c[o].apply(c[o+1]||this,s)}return this},n.prototype.proxy=function(e){var t=this;return function(n){t.trigger(e,n)}},n.includeIn=function(e){e.on=n.prototype.on,e.off=n.prototype.off,e.trigger=n.prototype.trigger,e.proxy=n.prototype.proxy},n}),n("durandal/app",["./system","./viewEngine","./composition","./widget","./modalDialog","./events"],function(e,t,n,r,a,o){var i={title:"Application",showModal:function(e,t,n){return a.show(e,t,n)},showMessage:function(e,t,n){return a.show("./messageBox",{message:e,title:t||this.title,options:n})},start:function(){var t=this;return t.title&&(document.title=t.title),e.defer(function(t){$(function(){e.log("Starting Application"),t.resolve(),e.log("Started Application")})}).promise()},setRoot:function(e,r,a){var o,i={activate:!0,transition:r};o=a&&"string"!=typeof a?a:document.getElementById(a||"applicationHost"),"string"==typeof e?t.isViewUrl(e)?i.view=e:i.model=e:i.model=e,n.compose(o,i)},adaptToDevice:function(){document.ontouchmove=function(e){e.preventDefault()}}};return o.includeIn(i),i}),n("durandal/plugins/router",["../system","../viewModel","../app"],function(e,t,n){function r(t){T(!1),e.log("Redirecting"),h.navigateTo(t)}function a(){E=!0,e.log("Cancelling Navigation"),b&&g.setLocation(b),E=!1,T(!1);var t=g.last_location[1].split("#/")[1];b||!t?B():t!=w?window.location.replace("#/"+w):B()}function o(e,t,n){N(e),h.onNavigationComplete(e,t,n),y=n,b=g.last_location[1].replace("/",""),B()}function i(t,n,r){e.log("Activating Route",t,r,n),A.activateItem(r,n).then(function(e){e?o(t,n,r):a()})}function s(){return E||g.last_location[1].replace("/","")==b}function c(e,t,n){var o=h.guardRoute(e,t,n);o?o.then?o.then(function(o){o?"string"==typeof o?r(o):i(e,t,n):a()}):"string"==typeof o?r(o):i(e,t,n):a()}function l(){if(!T()){var t=S.shift();S=[],t&&(T(!0),e.acquire(t.routeInfo.moduleId).then(function(e){t.params.routeInfo=t.routeInfo,t.params.router=h;var n=h.getActivatableInstance(t.routeInfo,t.params,e);h.guardRoute?c(t.routeInfo,t.params,n):i(t.routeInfo,t.params,n)}))}}function u(e,t){S.unshift({routeInfo:e,params:t}),l()}function d(e,t){var n=x[e];if(!s()){if(!n){if(!h.autoConvertRouteToModuleId)return h.handleInvalidRoute(e,t),void 0;n={moduleId:h.autoConvertRouteToModuleId(e,t),name:h.convertRouteToName(e)}}u(n,t)}}function f(){d(w,this.params||{})}function p(){d(""+this.app.last_route.path,this.params||{})}function m(){var e,t=this.params||{};if(h.autoConvertRouteToModuleId){var n=this.path.split("#/");if(2==n.length){var r=n[1].split("/");return e=r[0],t.splat=r.splice(1),d(e,t),void 0}}h.handleInvalidRoute(this.app.last_location[1],t)}function v(e){return h.prepareRouteInfo(e),x[""+e.url]=e,D.push(e),e.visible&&(e.isActive=ko.computed(function(){return C()&&A()&&A().__moduleId__==e.moduleId}),I.push(e)),e}var g,h,b,y,w,k,x={},D=ko.observableArray([]),I=ko.observableArray([]),C=ko.observable(!1),T=ko.observable(!1),E=!1,A=t.activator(),N=ko.observable(),S=[],B=function(){B=e.noop,C(!0),h.dfd.resolve(),delete h.dfd};return A.settings.areSameItem=function(){return!1},h={ready:C,allRoutes:D,visibleRoutes:I,isNavigating:T,activeItem:A,activeRoute:N,afterCompose:function(){setTimeout(function(){T(!1),l()},10)},getActivatableInstance:function(e,t,n){return"function"==typeof n?new n:n},useConvention:function(e){e=null==e?"viewmodels":e,e&&(e+="/"),h.convertRouteToModuleId=function(t){return e+h.stripParameter(t)}},stripParameter:function(e){var t=e.indexOf(":"),n=t>0?t-1:e.length;return e.substring(0,n)},handleInvalidRoute:function(t,n){e.log("No Route Found",t,n)},onNavigationComplete:function(e){document.title=n.title?e.caption+" | "+n.title:e.caption},navigateBack:function(){window.history.back()},navigateTo:function(e,t){switch(t=t||"trigger",t.toLowerCase()){case"skip":k=e,g.setLocation(e);break;case"replace":window.location.replace(e);break;default:g.lookupRoute("get",e)?g.setLocation(e):window.location.href=e}},replaceLocation:function(e){this.navigateTo(e,"replace")},convertRouteToName:function(e){var t=h.stripParameter(e);return t.substring(0,1).toUpperCase()+t.substring(1)},convertRouteToModuleId:function(e){return h.stripParameter(e)},prepareRouteInfo:function(e){e.url instanceof RegExp||(e.name=e.name||h.convertRouteToName(e.url),e.moduleId=e.moduleId||h.convertRouteToModuleId(e.url),e.hash=e.hash||"#/"+e.url),e.caption=e.caption||e.name,e.settings=e.settings||{}},mapAuto:function(e){e=e||"viewmodels",e+="/",h.autoConvertRouteToModuleId=function(t){return e+h.stripParameter(t)}},mapNav:function(e,t,n){return"string"==typeof e?this.mapRoute(e,t,n,!0):(e.visible=!0,v(e))},mapRoute:function(e,t,n,r){return"string"==typeof e?v({url:e,moduleId:t,name:n,visible:r}):v(e)},map:function(t){if(!e.isArray(t))return v(t);for(var n=[],r=0;t.length>r;r++)n.push(v(t[r]));return n},activate:function(t){return e.defer(function(n){var r;h.dfd=n,w=t,g=Sammy(function(e){for(var t=D(),n=0;t.length>n;n++){var a=t[n];e.get(a.url,p),r=this.routes.get[n],x[""+r.path]=a}e.get("#/",f),e.get(/\#\/(.*)/,m)}),g._checkFormSubmission=function(){return!1},g.before(null,function(e){if(k){if(e.path==="/"+k)return k=null,!1;throw Error("Expected to skip url '"+k+"', but found url '"+e.path+"'")}return!0}),g.log=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Sammy"),e.log.apply(e,t)},g.run("#/")}).promise()}}}),n("common/logger",["durandal/system"],function(e){function t(e,t,n,r){o(e,n,r,t,toastr.info)}function n(e,t,n,r){o(e,n,r,t,toastr.error)}function r(e,t,n,r){o(e,n,r,t,toastr.warning)}function a(e,t,n,r){o(e,n,r,t,toastr.success)}function o(t,n,r,a,o){r=r?"["+r+"] ":"",n?e.log(r,t,n):e.log(r,t),a&&o&&o(t)}var i={info:t,error:n,warning:r,success:a};return i}),e.config({paths:{text:"durandal/amd/text"}}),function(){var e=this;n("jquery",[],function(){return e.jQuery}),n("ko",[],function(){return e.ko}),n("amplify",[],function(){return e.amplify}),n("moment",[],function(){return e.moment}),n("sammy",[],function(){return e.Sammy}),n("toastr",[],function(){return e.toastr}),n("underscore",[],function(){return e._}),n("auth0SDK",[],function(){return e.Auth0})}(),n("main",["durandal/app","durandal/viewLocator","durandal/system","durandal/plugins/router","common/logger"],function(e,n,r,a,o){var i={"public":"viewmodels/public","private":"viewmodels/shell"},s=function(){t(["security/authentication","repositories/datacontext","jquery"],function(e,t,n){function r(){c(!0)}function a(){c(!1)}e.datacontext(t),e.fetchQueryStringData(),n.when(e.fetchCurrentUser()).done(r).fail(a)})},c=function(t){e.title="Perfin",e.start().then(function(){a.useConvention(),n.useConvention();var r=t?i.private:i.public;e.setRoot(r,"entrance"),a.handleInvalidRoute=function(e){o.error("No route found",!0,e,"main")}})},l=function(){s()};l()}),n("common/utils",[],function(){var e=function(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1},t=function(e){_.isFunction(e)&&e()},n=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},r=function(e){return $("<span />").text(e).currency().text()};return{hasProperties:e,invokeFunctionIfExists:t,mapMemoToArray:n,formatCurrency:r}}),n("charts/chart.totalCategoriesByMonth",["common/utils"],function(e){var t=Highcharts.getOptions().colors,n=function(n,r){var a,o,i,s,c="Categories",l=function(){return _.filter(r,function(e){return null===e.parentCategoryId})},u=function(e){return _.map(e,function(e){return e.category})},d=function(e){return _.filter(r,function(t){return t.parentCategoryId===e})},f=function(e,t){return _.find(e,function(e){return e.id===t})},p=function(e,t,n){var r=[];return _.each(e,function(e){var a=g(e,t,n);a&&r.push(a)}),r},m=function(e,t){return _.map(e,function(e){var n=f(t,e.id);return n?n:e.amount})},v=function(e){var t=_.reduce(e,function(e,t){if(!isNaN(t))return e+t;if(t.y){var n=v(t.drilldown.data);return e+t.y+n}},0);return t},g=function(e,t,n){var r=d(e.id),a={y:e.amount,color:t,id:e.id,parentCategoryId:n,hasChildrenCategories:r.length>0};if(a.hasChildrenCategories||!n){if(a.hasChildrenCategories){var o=p(r,t,e.id),i=u(r),s=m(r,o);a.y=e.amount+v(s),a.drilldown={name:e.category,categories:i,data:s,color:t}}return a}},h=function(){var e=-1;return _.map(o,function(n){return e++,g(n,t[e])})},b=function(e,t,n,r){a.xAxis[0].setCategories(t,!1),a.series[0].remove(!1),a.addSeries({name:e,data:n,color:r||"white"},!1),a.redraw()},y=function(){var e=this.drilldown;e?b(e.name,e.categories,e.data,e.color):b(c,i,s)},w=function(){var t=this.point,n=this.x+":<b>"+e.formatCurrency(this.y)+"</b><br/>";return n+=t.drilldown?"Click to view "+t.category+" children categories":"Click to return to root categories"},k=function(){a=$(n).highcharts({chart:{type:"column"},title:{text:"Total Categories, "+moment().format("MMMM")},subtitle:{text:"Click the columns to expand the children categories"},xAxis:{categories:i},yAxis:{title:{text:"Total Amount"}},plotOptions:{column:{cursor:"pointer",point:{events:{click:y}},dataLabels:{enabled:!0,color:"#4d759e",style:{fontWeight:"bold"},formatter:function(){return e.formatCurrency(this.y)}}}},tooltip:{formatter:w},series:[{name:c,data:s,color:"white"}],exporting:{enabled:!1}}).highcharts()},x=function(){o=l(),i=u(o),s=h(),k()};return x(),a};return n}),n("charts/chart.totalTypeTransactionsByMonth",["common/utils"],function(e){Highcharts.getOptions().colors;var t=function(t,n){var r,a,o=function(){return _.map(n,function(e){return{name:e.typeTransaction,data:[e.amount]}})},i=function(){r=$(t).highcharts({chart:{type:"column"},title:{text:"Balance, "+moment().format("MMMM")},colors:["#c42525","#2f7ed8"],xAxis:{categories:["Type Transactions"]},yAxis:{min:0,title:{text:"Amount"}},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br>"+e.formatCurrency(this.y)}},plotOptions:{column:{pointPadding:.2,borderWidth:0,dataLabels:{enabled:!0,color:"#4d759e",style:{fontWeight:"bold"},formatter:function(){return e.formatCurrency(this.y)}}}},series:a}).highcharts()},s=function(){a=o(),i()};return s(),r};return t}),n("models/model.category",["ko"],function(e){var t=function(){var t=this;return t.id=e.observable(),t.name=e.observable().extend({required:!0}),t.parentCategoryId=e.observable(),t.isNullo=!1,t.dirtyFlag=new e.DirtyFlag([t.id,t.name,t.parentCategoryId]),t};t.Nullo=(new t).id(0).name("---").parentCategoryId(0),t.Nullo.isNullo=!0,t.Nullo.dirtyFlag().reset();var n=null;return t.datacontext=function(e){return e&&(n=e),n},t.prototype=function(){var e=t.datacontext,n=function(){return e().category.getLocalById(this.parentCategoryId())};return{isNullo:!1,parentCategory:n}}(),t}),n("models/model.user",["ko"],function(e){var t=function(){var t=this;
return t.id=e.observable(),t.login=e.observable().extend({required:!0}),t.password=e.observable().extend({required:!0}),t.email=e.observable(),t.name=e.observable(),t.salt=e.observable(),t.oAuthId=e.observable(),t.isNullo=!1,t.dirtyFlag=new e.DirtyFlag([t.id,t.login,t.password,t.email,t.name,t.salt,t.oAuthId]),t};return t.Nullo=(new t).id(0).login("Not a User").password("12"),t.Nullo.isNullo=!0,t.Nullo.dirtyFlag().reset(),t.datacontext=function(e){return e&&(_dc=e),_dc},t.prototype.picture=e.observable(),t}),n("models/model.typeTransaction",["ko"],function(e){var t=function(t,n){var r=this;return r.id=e.observable(t),r.name=e.observable(n),r},n=new t(0,"Expense"),r=new t(1,"Income"),a={expense:n,income:r},o=function(){return[n,r]},i=function(e){return 0===e?n.name():1===e?r.name():""};return{typeTransactions:a,getAll:o,getNameById:i}}),n("models/model.entry",["ko","models/model.typeTransaction"],function(e,t){var n=function(){var n=this;return n.id=e.observable(),n.amount=e.observable().extend({required:!0}),n.description=e.observable(),n.createDate=e.observable(),n.entryDate=e.observable(null),n.categoryId=e.observable(null),n.typeTransaction=e.observable().extend({required:!0}),n.userId=e.observable(),n.isNullo=!1,n.dirtyFlag=new e.DirtyFlag([n.id,n.amount,n.description,n.createDate,n.entryDate,n.categoryId,n.userId,n.typeTransaction]),n.typeTransactionName=e.computed(function(){return t.getNameById(n.typeTransaction())}),n};n.Nullo=(new n).id(0).amount(0),n.Nullo.isNullo=!0,n.Nullo.dirtyFlag().reset();var r=null;return n.datacontext=function(e){return e&&(r=e),r},n.prototype=function(){var e=n.datacontext,t=function(){return e().category.getLocalById(this.categoryId())},r=function(){return e().user.getLocalById(this.userId())};return{isNullo:!1,category:t,user:r}}(),n}),n("models/model",["models/model.category","models/model.user","models/model.entry"],function(e,t,n){var r={Category:e,User:t,Entry:n};return r.setDataContext=function(e){r.Category.datacontext(e),r.User.datacontext(e),r.Entry.datacontext(e)},r}),n("models/model.mapper",["ko","models/model"],function(e,t){var n={getDtoId:function(e){return e.id},fromDto:function(e,n){return n=n||(new t.Category).id(e.id),n.name(e.name),n.parentCategoryId(e.parentCategoryId),n.dirtyFlag().reset(),n}},r={getDtoId:function(e){return e.id},fromDto:function(e,n){return n=n||(new t.User).id(e.id),n.login(e.login),n.password(e.password),n.name(e.name),n.email(e.email),n.salt(e.salt),n.dirtyFlag().reset(),n},fromAuth0Dto:function(e,n){return n=n||(new t.User).id(e.id),n.login(e.nickname),n.name(e.name),n.email(e.email),n.dirtyFlag().reset(),n.oAuthId(e.user_id),n.picture(e.picture),n}},a={getDtoId:function(e){return e.id},fromDto:function(e,n){return n=n||(new t.Entry).id(e.id),n.amount(e.amount),n.description(e.description),n.createDate(e.createDate),n.entryDate(e.entryDate),n.categoryId(e.category&&e.category.id),n.typeTransaction(e.typeTransaction),n.userId(e.user.id),n.dirtyFlag().reset(),n},toJSON:function(n){var r=n;n.categoryId&&n.categoryId()>0&&(r.category=(new t.Category).id(n.categoryId())),n.userId(1),n.userId&&n.userId()>0&&(r.user=(new t.User).id(n.userId()));var a=(""+n.amount()).split(",").join("");return r.amount=parseFloat(a),e.toJSON(r)}};return{category:n,user:r,entry:a}}),n("common/config.route",[],function(){var e={"public":[],"private":[]},t={"public":"welcome","private":"user/login"},n={welcome:"viewmodels/welcome",category:{show:"viewmodels/category/show",add:"viewmodels/category/add",details:"viewmodels/category/details"},user:{show:"viewmodels/user/show",add:"viewmodels/user/add",details:"viewmodels/user/details"},entry:{show:"viewmodels/entry/show",daily:"viewmodels/entry/daily",add:"viewmodels/entry/add",details:"viewmodels/entry/details",daily:"viewmodels/entry/daily"},map:{show:"viewmodels/map/show"},calendar:{show:"viewmodels/calendar/show"},chart:{show:"viewmodels/chart/show"}},r=function(){return[{url:"welcome",moduleId:n.welcome,name:'<i class="icon-home"></i> Welcome',visible:!0,caption:"Home",settings:{classColor:"green",classIcon:"icon-home"}}]},a=function(){return[{url:"category/show",moduleId:n.category.show,name:'<i class="icon-tag"></i> Categories',visible:!0,caption:"Categories",settings:{classColor:"blue",classIcon:"icon-tag",parentModule:n.welcome}},{url:"category/add",moduleId:n.category.add,name:'<i class="icon-plus"></i> Add Category',visible:!1,caption:"Add Category",settings:{parentModule:n.welcome}},{url:"category/details/:id",moduleId:n.category.details,name:'<i class="icon-book"></i> Edit Category',visible:!1,caption:"Edit Category",settings:{parentModule:n.welcome}}]},o=function(){return[{url:"entry/show",moduleId:n.entry.show,name:'<i class="icon-money"></i> Entry',visible:!1,caption:"Entry",settings:{classColor:"blue",classIcon:"icon-money",parentModule:n.welcome}},{url:"entry/daily",moduleId:n.entry.daily,name:'<i class="icon-money"></i> Entry',visible:!0,caption:"Entry",settings:{classColor:"blue",classIcon:"icon-money",parentModule:n.welcome}},{url:"entry/add",moduleId:n.entry.add,name:'<i class="icon-plus"></i> Add Entry',visible:!1,caption:"Add Entry",settings:{parentModule:n.welcome}},{url:"entry/details/:id",moduleId:n.entry.details,name:'<i class="icon-book"></i> Edit Entry',visible:!1,caption:"Edit Entry",settings:{parentModule:n.welcome}},{url:"entry/daily",moduleId:n.entry.daily,name:'<i class="icon-book"></i> Daily Entries',visible:!1,caption:"Daily Entries",settings:{parentModule:n.welcome}}]},i=function(){return[{url:"map/show",moduleId:n.map.show,name:'<i class="icon-map-marker"></i> Maps',visible:!0,caption:" Maps",settings:{classColor:"yellow",classIcon:"icon-map-marker",parentModule:n.welcome}}]},s=function(){return[{url:"calendar/show",moduleId:n.calendar.show,name:'<i class="icon-calendar"></i> Calendar',visible:!0,caption:"Calendar",settings:{classColor:"purple",classIcon:"icon-calendar",parentModule:n.welcome}}]},c=function(){return[{url:"chart/show",moduleId:n.chart.show,name:'<i class="icon-bar-chart"></i> Chart',visible:!0,caption:"Chart",settings:{classColor:"red",classIcon:"icon-bar-chart",parentModule:n.welcome}}]},l=function(){return[{url:"user/login",moduleId:"viewmodels/user/login",name:'<i class="icon-lock"></i> Login',visible:!0,caption:"Login"},{url:"user/register",moduleId:"viewmodels/user/register",name:'<i class="icon-lock"></i> Register',visible:!0,caption:"Register"}]},u=function(){e.private=[],e.private.appendRoutes(r()),e.private.appendRoutes(a()),e.private.appendRoutes(o()),e.private.appendRoutes(i()),e.private.appendRoutes(s()),e.private.appendRoutes(c())},d=function(){e.public=[],e.public.appendRoutes(l())};Array.prototype.appendRoutes=function(e){if(e)for(var t=0;e.length>t;t++)this.push(e[t])};var f=function(){u(),d()};return f(),{routes:e,startModule:t,modulesId:n}}),n("common/config",["ko","common/config.route"],function(e,t){var n={changesPending:"Please save or cancel your changes before leaving the page.",errorSavingData:"Data could not be saved. Please check the logs.",errorGettingData:"Could not retrieve data.  Please check the logs.",invalidRoute:"Cannot navigate. Invalid route",retreivedData:"Data retrieved successfully",savedData:"Data saved successfully"},r=function(){e.validation.configure({registerExtenders:!0,messagesOnModified:!0,insertMessages:!0,parseInputAttributes:!0,writeInputAttributes:!0,messageTemplate:null,decorateElement:!0})},a={localTokenId:"auth0TokenId",localAccessToken:"auth0AccessToken",providerClientId:""},o=function(){r()};return o(),{route:t,messages:n,authentication:a}}),n("security/authentication.provider.auth0",["common/config","models/model.mapper","jquery"],function(e,t,n){var r=e.authentication.auth0ClientId,a="",o="",i="https://api.auth0.com/userinfo?access_token=",s=function(){return"https://sdk.auth0.com/auth0.js#client="+r+"&scope=openid&response_type=token"},c=function(){var t=localStorage.getItem(e.authentication.localTokenId);if(t&&"null"!==t&&(a=t),!a){var n=/id_token=([^&]*)/g.exec(window.location.hash);n&&(a=n[1],localStorage.setItem(e.authentication.localTokenId,a))}return a},l=function(){var t=localStorage.getItem(e.authentication.localAccessToken);if(t&&"null"!==t&&(o=t),!o){var n=/access_token=([^&]*)/g.exec(window.location.hash);n&&(o=n[1],localStorage.setItem(e.authentication.localAccessToken,o))}return o},u=function(e){c()&&e.setRequestHeader("Authorization","Bearer "+c())},d=function(){return n.Deferred(function(e){n.ajax({url:i+l(),dataType:"json",success:function(n){var r=t.user.fromAuth0Dto(n);e.resolve(r)},error:function(t){401==t.status,e.reject(t)}})}).promise()},f=function(){c(),l()},p=function(){localStorage.removeItem(e.authentication.localTokenId),localStorage.removeItem(e.authentication.localAccessToken),a="",o=""};return{tokenId:a,accessToken:o,urlUserInfo:i,getSrcScript:s,getTokenId:c,getAccessToken:l,authorizationHeader:u,getUserInfoAuth0:d,fetchQueryStringData:f,cleanAuth:p}}),n("security/authentication",["ko","jquery","durandal/plugins/router","common/config","security/authentication.provider.auth0","durandal/plugins/router"],function(e,t,n,r,a,n){var o=e.observable(),i=function(){return t.Deferred(function(e){function n(n){t.when(l(n)).done(function(){o(n),e.resolve(n)}).fail(r)}function r(t){s(t),e.reject(t)}t.when(u.getUserInfo()).done(n).fail(r)}).promise()},s=function(e){return 401===e.status?(c(),!0):!1},c=function(){u.cleanAuth(),o=e.observable(),n.map(r.route.routes.public),0>window.location.href.indexOf("#/user/login")&&(n.replaceLocation("#/user/login"),document.location.reload(!0))},l=function(e){return d.user.importData(e)},u={urlUserInfo:a.urlUserInfo,getSrcScript:a.getSrcScript,getTokenId:a.getTokenId,getAccessToken:a.getAccessToken,authorizationHeader:a.authorizationHeader,getUserInfo:function(){return t.Deferred(function(e){function n(){if(!a.getTokenId()){var t={status:401};return s(t),e.reject(t),!0}return!1}n()||t.when(a.getUserInfoAuth0()).done(function(t){e.resolve(t)}).fail(function(t){s(t),e.reject(t)})}).promise()},fetchQueryStringData:a.fetchQueryStringData,cleanAuth:a.cleanAuth},d=null,f=function(e){return e&&(d=e),d};return{currentUser:o,fetchCurrentUser:i,urlUserInfo:u.urlUserInfo,getSrcScript:u.getSrcScript,getTokenId:u.getTokenId,getAccessToken:u.getAccessToken,authorizationHeader:u.authorizationHeader,getUserInfo:u.getUserInfo,fetchQueryStringData:u.fetchQueryStringData,onAuthFail:s,logOutCurrentUser:c,datacontext:f}}),n("services/callback.dataservice",["security/authentication"],function(e){var t=function(t,n,r,a,o){"success"===n?a(t):e.onAuthFail(r)||o(r)};return{beforeExecCallback:t}}),n("services/dataservice.category",["amplify","security/authentication","services/callback.dataservice"],function(e,t,n){var r="/api/category",a=function(){e.request.define("categories","ajax",{url:r,dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("category","ajax",{url:r+"/{id}",dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("categoryAdd","ajax",{url:r,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("categoryUpdate","ajax",{url:r,dataType:"json",type:"PUT",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("categoryDelete","ajax",{url:r+"/{id}",dataType:"json",type:"DELETE",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback})},o=function(t){return e.request({resourceId:"categories",success:t.success,error:t.error})},i=function(t,n){return e.request({resourceId:"category",data:{id:n},success:t.success,error:t.error})},s=function(t,n){return e.request({resourceId:"categoryAdd",data:n,success:t.success,error:t.error})},c=function(t,n){return e.request({resourceId:"categoryUpdate",data:n,success:t.success,error:t.error})},l=function(t,n){return e.request({resourceId:"categoryDelete",data:{id:n},success:t.success,error:t.error})};return a(),{getCatetories:o,getCategory:i,addCategory:s,updateCategory:c,deleteCategory:l}}),n("services/dataservice.user",["amplify","security/authentication","services/callback.dataservice"],function(e,t,n){var r="/api/user",a=function(){e.request.define("users","ajax",{url:r,dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("user","ajax",{url:r+"/{id}",dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("userAdd","ajax",{url:r,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("userUpdate","ajax",{url:r,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("userDelete","ajax",{url:r+"/{id}",dataType:"json",type:"DELETE",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("userInfoAuth0","ajax",{url:t.urlUserInfo+"{accessToken}",dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("userImport","ajax",{url:r+"/import",dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback})},o=function(t){return e.request({resourceId:"users",success:t.success,error:t.error})},i=function(t,n){return e.request({resourceId:"user",data:{id:n},success:t.success,error:t.error})},s=function(t,n){return e.request({resourceId:"userAdd",data:n,success:t.success,error:t.error})},c=function(t,n){return e.request({resourceId:"userUpdate",data:n,success:t.success,error:t.error})},l=function(t,n){return e.request({resourceId:"userDelete",data:{id:n},success:t.success,error:t.error})},u=function(t,n){return e.request({resourceId:"userInfoAuth0",data:{accessToken:n},success:t.success,error:t.error})},d=function(t,n){return e.request({resourceId:"userImport",data:n,success:t.success,error:t.error})};return a(),{getUsers:o,getUser:i,addUser:s,updateUser:c,deleteUser:l,importUser:d,getUserInfoAuth0:u}}),n("services/dataservice.assets",["amplify"],function(e){var t="/api/assets",n=function(){e.request.define("assets","ajax",{url:t,dataType:"json",type:"GET"})},r=function(t){return e.request({resourceId:"assets",success:t.success,error:t.error})};return n(),{getAssets:r}}),n("services/dataservice.entry",["amplify","security/authentication","services/callback.dataservice"],function(e,t,n){var r="/api/entry",a="/api/chart",o=function(){e.request.define("entries","ajax",{url:r,dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("entry","ajax",{url:r+"/{id}",dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("entryAdd","ajax",{url:r,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("entryUpdate","ajax",{url:r,dataType:"json",type:"PUT",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("entryDelete","ajax",{url:r+"/{id}",dataType:"json",type:"DELETE",contentType:"application/json; charset=utf-8",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("totalTypeTransactionsByMonth","ajax",{url:a+"/totalTypeTransactionsByMonth",dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback}),e.request.define("totalCategoriesByMonth","ajax",{url:a+"/totalCategoriesByMonth",dataType:"json",type:"GET",beforeSend:t.authorizationHeader,decoder:n.beforeExecCallback})},i=function(t){return e.request({resourceId:"entries",success:t.success,error:t.error})},s=function(t,n){return e.request({resourceId:"entry",data:{id:n},success:t.success,error:t.error})},c=function(t,n){return e.request({resourceId:"entryAdd",data:n,success:t.success,error:t.error})},l=function(t,n){return e.request({resourceId:"entryUpdate",data:n,success:t.success,error:t.error})},u=function(t,n){return e.request({resourceId:"entryDelete",data:{id:n},success:t.success,error:t.error})},d=function(t){return e.request({resourceId:"totalTypeTransactionsByMonth",success:t.success,error:t.error})},f=function(t){return e.request({resourceId:"totalCategoriesByMonth",success:t.success,error:t.error})};return o(),{getEntries:i,getEntry:s,addEntry:c,updateEntry:l,deleteEntry:u,getEntriesTotalTypeTransactionsByMonth:d,getEntriesTotalCategoriesByMonth:f}}),n("services/dataservice",["services/dataservice.category","services/dataservice.user","services/dataservice.assets","services/dataservice.entry"],function(e,t,n,r){return{category:e,user:t,assets:n,entry:r}}),n("repositories/repository",["jquery","underscore","ko","models/model","models/model.mapper","services/dataservice","common/config","common/logger","common/utils"],function(e,t,n,r,a,i,s,c,l){var u=function(t,r,a,o){var i={},u=function(e){var t=r.getDtoId(e),n=i[t];return i[t]=r.fromDto(e,n),i[t]},p=function(e){i[e.id()]=e},m=function(e){delete i[e]},v=function(e){return e&&i[e]?i[e]:a},g=function(){return l.mapMemoToArray(i)},h=function(n){return e.Deferred(function(e){var a=n&&n.results,o=n&&n.sortFunction,u=n&&n.filter,p=n&&n.forceRefresh,m=n&&n.param,v=n&&n.getFunctionOverride;t=v||t,!p&&i&&l.hasProperties(i)?(d(i,a,u,o),e.resolve(a)):t({success:function(t){n.resultAsDto?e.resolve(t):(i=f(t,i,a,r,u,o),e.resolve(a))},error:function(){c.error(s.messages.errorGettingData,!0),e.reject()}},m)}).promise()},b=function(t,r){var a=n.toJSON(t);return e.Deferred(function(e){return o?(o({success:function(n){c.success(s.messages.savedData,!0),t.dirtyFlag().reset(),r&&r.success&&r.success(),e.resolve(n)},error:function(t){c.error(s.messages.errorSavingData,!0),r&&r.error&&r.error(),e.reject(t)}},a),void 0):(c.error("updateData method not implemented",!0),r&&r.error&&r.error(),e.reject(),void 0)}).promise()};return{mapDtoToContext:u,add:p,getAllLocal:g,getLocalById:v,getData:h,removeById:m,updateData:b}},d=function(e,n,r,a){if(n){var i=l.mapMemoToArray(e);r&&(i=t.filter(i,function(){var e=r.predicate(r,o);return e})),a&&i.sort(a),n(i)}},f=function(e,n,r,a,o,i){return n=t.reduce(e,function(e,t){var r=a.getDtoId(t),o=n[r];return e[r]=a.fromDto(t,o),e},{}),d(n,r,o,i),n};return u}),n("repositories/repository.category",["jquery","underscore","ko","models/model","models/model.mapper","services/dataservice","common/config","common/logger","common/utils","repositories/repository"],function(e,t,n,r,a,o,i,s,c,l){var u=new l(o.category.getCatetories,a.category,r.Category.Nullo);return u.getAllLeastCurrent=function(r,a){var o=n.observable();return a=a||{},t.extend(a,{results:o}),e.Deferred(function(n){e.when(u.getData({results:o})).fail(function(){n.reject()}).done(function(){var e=t.reject(o(),function(e){return e.id()==r});n.resolve(e)})}).promise()},u.addData=function(t,r){var c=n.toJSON(t);return e.Deferred(function(e){o.category.addCategory({success:function(t){if(!t)return s.error(i.messages.errorSavingData,!0),r&&r.error&&r.error(),e.reject(),void 0;var n=a.category.fromDto(t);u.add(n),s.success(i.messages.savedData,!0),r&&r.success&&r.success(n),e.resolve(t)},error:function(){s.error(i.messages.errorSavingData),r&&r.error&&r.error(),e.reject()}},c)}).promise()},u.getCategoryById=function(t,n,r){return e.Deferred(function(e){var a=u.getLocalById(t);void 0!==t&&(a.isNullo||r)?o.category.getCategory({success:function(t){a=u.mapDtoToContext(t),n.success(a),e.resolve(t)},error:function(r){s.error("oops! could not retrieve category "+t,!0),n&&n.error&&n.error(r),e.reject(r)}},t):(n.success(a),e.resolve(a))}).promise()},u.updateData=function(t,r){var a=n.toJSON(t);return e.Deferred(function(e){o.category.updateCategory({success:function(n){s.success(i.messages.savedData,!0),t.dirtyFlag().reset(),r&&r.success&&r.success(),e.resolve(n)},error:function(t){s.error(i.messages.errorSavingData,!0),r&&r.error&&r.error(),e.reject(t)}},a)}).promise()},u.deleteData=function(t,r){return n.toJSON(t),e.Deferred(function(e){o.category.deleteCategory({success:function(n){u.removeById(t.id()),s.success(i.messages.saveData),r&&r.success&&r.success(),e.resolve(n)},error:function(t){s.error(i.messages.errorSavingData),r&&r.error&&r.error(),e.reject(t)}},t.id())}).promise()},u}),n("repositories/repository.user",["jquery","underscore","ko","models/model","models/model.mapper","services/dataservice","common/config","common/logger","common/utils","repositories/repository"],function(e,t,n,r,a,o,i,s,c,l){var u=new l(o.user.getUsers,a.user,r.User.Nullo);return u.getAll=function(n){return e.Deferred(function(r){t.extend(n,{getFunctionOverride:o.user.getUsers}),e.when(u.getData(n)).done(function(){r.resolve()}).fail(function(){r.reject()})}).promise()},u.addData=function(t,r){var c=n.toJSON(t);return e.Deferred(function(e){o.user.addUser({success:function(t){if(!t)return s.error(i.messages.errorSavingData,!0),r&&r.error&&r.error(),e.reject(),void 0;var n=a.user.fromDto(t);u.add(n),s.success(i.messages.savedData,!0),r&&r.success&&r.success(n),e.resolve(t)},error:function(){s.error(i.messages.errorSavingData),r&&r.error&&r.error(),e.reject()}},c)}).promise()},u.getUserById=function(t,n,r){return e.Deferred(function(e){var a=u.getLocalById(t);void 0!==t&&(a.isNullo||r)?o.user.getUser({success:function(t){a=u.mapDtoToContext(t),n.success(a),e.resolve(t)},error:function(r){s.error("oops! could not retrieve user "+t,!0),n&&n.error&&n.error(r),e.reject(r)}},t):(n.success(a),e.resolve(a))}).promise()},u.updateData=function(t,r){var a=n.toJSON(t);return e.Deferred(function(e){o.user.updateUser({success:function(n){s.success(i.messages.savedData,!0),t.dirtyFlag().reset(),r&&r.success&&r.success(),e.resolve(n)},error:function(t){s.error(i.messages.errorSavingData,!0),r&&r.error&&r.error(),e.reject(t)}},a)}).promise()},u.deleteData=function(t,r){return n.toJSON(t),e.Deferred(function(e){o.user.deleteUser({success:function(n){u.removeById(t.id()),s.success(i.messages.saveData),r&&r.success&&r.success(),e.resolve(n)},error:function(t){s.error(i.messages.errorSavingData),r&&r.error&&r.error(),e.reject(t)}},t.id())}).promise()},u.getUserInfoAuth0=function(t,n,r){return e.Deferred(function(e){var i=u.getLocalById(id);void 0!==t&&(i.isNullo||r)?o.user.getUserInfoAuth0({success:function(t){a.user.fromAuth0Dto(t),e.resolve(t)},error:function(t){s.error("oops! could not retrieve user ",!0),n&&n.error&&n.error(t),e.reject(t)}},t):(n.success(i),e.resolve(i))}).promise()},u.importData=function(t,r){var c=n.toJSON(t);return e.Deferred(function(e){function t(){s.error(i.messages.errorSavingData),r&&r.error&&r.error(),e.reject()}o.user.importUser({success:function(n){if(!n)return t(),void 0;var o=a.user.fromDto(n);u.getLocalById(o.id()).isNullo&&u.add(o),s.success(i.messages.savedData,!0),r&&r.success&&r.success(o),e.resolve(n)},error:t},c)}).promise()},u}),n("repositories/repository.entry",["jquery","underscore","ko","models/model","models/model.mapper","services/dataservice","common/config","common/logger","common/utils","repositories/repository"],function(e,t,n,r,a,o,i,s,c,l){var u=new l(o.entry.getEntries,a.entry,r.Entry.Nullo);return u.getAll=function(n){return e.Deferred(function(r){t.extend(n,{getFunctionOverride:o.entry.getEntry}),e.when(u.getData(n)).done(function(){r.resolve()}).fail(function(){r.reject()})}).promise()},u.addData=function(t,n){var r=a.entry.toJSON(t);return e.Deferred(function(e){o.entry.addEntry({success:function(t){if(!t)return s.error(i.messages.errorSavingData,!0),n&&n.error&&n.error(),e.reject(),void 0;var r=a.entry.fromDto(t);u.add(r),s.success(i.messages.savedData,!0),n&&n.success&&n.success(r),e.resolve(t)},error:function(){s.error(i.messages.errorSavingData),n&&n.error&&n.error(),e.reject()}},r)}).promise()},u.getEntryById=function(t,n,r){return e.Deferred(function(e){var a=u.getLocalById(t);void 0!==t&&(a.isNullo||r)?o.entry.getEntry({success:function(t){a=u.mapDtoToContext(t),n.success(a),e.resolve(t)},error:function(r){s.error("oops! could not retrieve entry "+t,!0),n&&n.error&&n.error(r),e.reject(r)}},t):(n.success(a),e.resolve(a))}).promise()},u.updateData=function(t,n){var r=a.entry.toJSON(t);return e.Deferred(function(e){o.entry.updateEntry({success:function(r){s.success(i.messages.savedData,!0),t.dirtyFlag().reset(),n&&n.success&&n.success(),e.resolve(r)},error:function(t){s.error(i.messages.errorSavingData,!0),n&&n.error&&n.error(),e.reject(t)}},r)}).promise()},u.deleteData=function(t,r){return n.toJSON(t),e.Deferred(function(e){o.entry.deleteEntry({success:function(n){u.removeById(t.id()),s.success(i.messages.saveData),r&&r.success&&r.success(),e.resolve(n)},error:function(t){s.error(i.messages.errorSavingData),r&&r.error&&r.error(),e.reject(t)}},t.id())}).promise()},u.getTotalTypeTransactionsByMonth=function(n){return e.Deferred(function(r){n=n||{},t.extend(n,{resultAsDto:!0,forceRefresh:!0,getFunctionOverride:o.entry.getEntriesTotalTypeTransactionsByMonth}),e.when(u.getData(n)).done(function(e){r.resolve(e)}).fail(function(){r.reject()})}).promise()},u.getTotalCategoriesByMonth=function(n){return e.Deferred(function(r){n=n||{},t.extend(n,{resultAsDto:!0,forceRefresh:!0,getFunctionOverride:o.entry.getEntriesTotalCategoriesByMonth}),e.when(u.getData(n)).done(function(e){r.resolve(e)}).fail(function(){r.reject()})}).promise()},u}),n("repositories/repository.assets",["jquery","underscore","ko","models/model","models/model.mapper","services/dataservice","common/config","common/logger","common/utils","repositories/repository"],function(e,t,n,r,a,o,i,s){var c={};return c.getData=function(){return e.Deferred(function(t){e.when(o.assets.getAssets({success:function(e){t.resolve(e)},error:function(){s.error(i.messages.errorGettingData,!0),t.reject()}}))}).promise()},c}),n("repositories/datacontext",["models/model","repositories/repository.category","repositories/repository.user","repositories/repository.entry","repositories/repository.assets"],function(e,t,n,r,a){var o={category:t,user:n,entry:r,assets:a};return e.setDataContext(o),o}),n("common/assets",["repositories/datacontext","common/config"],function(e,t){var n=function(){e.assets.getData().done(function(e){e&&(t.authentication.auth0ClientId=e.auth0ClientId)})},r=function(){},a=function(){n(),r()};return{fetchAll:a}}),n("common/breadcrumb",["common/config","underscore"],function(e,t){var n=e.route.routes.private,r=[],a={home:"icon-home icon-large",separator:"icon-double-angle-right icon-large"},o=function(e){r=[];var t=i(e);r.unshift(new s(t.caption,t.url,a.separator,!0));for(var n=getParentModule(t);n;){var o=new s(n.caption,n.url,a.separator);n=getParentModule(n),n||(o.iconClass=a.home),r.unshift(o)}return r},i=function(e){return t.find(n,function(t){return t.moduleId==e})};getParentModule=function(e){return e&&e.settings&&e.settings.parentModule?t.find(n,function(t){return t.moduleId==e.settings.parentModule}):void 0};var s=function(e,t,n,r){var a=this;return a.lable=e,a.url=t,a.iconClass=n,a.current=r?"current":"",a};return{buildBreadCrumb:o}}),n("durandal/http",[],function(){return{defaultJSONPCallbackParam:"callback",get:function(e,t){return $.ajax(e,{data:t})},jsonp:function(e,t,n){return-1==e.indexOf("=?")&&(n=n||this.defaultJSONPCallbackParam,e+=-1==e.indexOf("?")?"?":"&",e+=n+"=?"),$.ajax({url:e,dataType:"jsonp",data:t})},post:function(e,t){return $.ajax({url:e,data:ko.toJSON(t),type:"POST",contentType:"application/json",dataType:"json"})}}}),n("text",["module"],function(e){var n,r,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,s="undefined"!=typeof location&&location.href,c=s&&location.protocol&&location.protocol.replace(/\:/,""),l=s&&location.hostname,u=s&&(location.port||void 0),d=[],f=e.config&&e.config()||{};return n={version:"2.0.3",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(i);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=a[t];try{e=new ActiveXObject(n)}catch(r){}if(e){a=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),a=e.substring(n+1,e.length);return n=a.indexOf("!"),-1!==n&&(t=a.substring(n+1,a.length),t="strip"===t,a=a.substring(0,n)),{moduleName:r,ext:a,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,a){var o,i,s,c=n.xdRegExp.exec(e);return c?(o=c[2],i=c[3],i=i.split(":"),s=i[1],i=i[0],!(o&&o!==t||i&&i.toLowerCase()!==r.toLowerCase()||(s||i)&&s!==a)):!0},finishLoad:function(e,t,r,a){r=t?n.strip(r):r,f.isBuild&&(d[e]=r),a(r)},load:function(e,t,r,a){if(a.isBuild&&!a.inlineText)return r(),void 0;f.isBuild=a.isBuild;var o=n.parseName(e),i=o.moduleName+"."+o.ext,d=t.toUrl(i),p=f.useXhr||n.useXhr;!s||p(d,c,l,u)?n.get(d,function(t){n.finishLoad(e,o.strip,t,r)},function(e){r.error&&r.error(e)}):t([i],function(e){n.finishLoad(o.moduleName+"."+o.ext,o.strip,e,r)})},write:function(e,t,r){if(d.hasOwnProperty(t)){var a=n.jsEscape(d[t]);r.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,t,r,a,o){var i=n.parseName(t),s=i.moduleName+"."+i.ext,c=r.toUrl(i.moduleName+"."+i.ext)+".js";n.load(s,r,function(){var t=function(e){return a(c,e)};t.asModule=function(e,t){return a.asModule(e,c,t)},n.write(e,s,t,o)},o)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(r=t.nodeRequire("fs"),n.get=function(e,t){var n=r.readFileSync(e,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),t(n)}):"xhr"===f.env||!f.env&&n.createXhr()?n.get=function(e,t,r){var a=n.createXhr();a.open("GET",e,!0),f.onXhr&&f.onXhr(a,e),a.onreadystatechange=function(){var n,o;4===a.readyState&&(n=a.status,n>399&&600>n?(o=Error(e+" HTTP status: "+n),o.xhr=a,r(o)):t(a.responseText))},a.send(null)}:("rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(n.get=function(e,t){var n,r,a="utf-8",o=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),a)),c="";try{for(n=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),n.append(r);null!==(r=s.readLine());)n.append(i),n.append(r);c=""+n+""}finally{s.close()}t(c)}),n}),n("text!durandal/messageBox.html",[],function(){return'<div class="messageBox">\r\n    <div class="modal-header">\r\n        <h3 data-bind="html: title"></h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <p class="message" data-bind="html: message"></p>\r\n    </div>\r\n    <div class="modal-footer" data-bind="foreach: options">\r\n        <button class="btn" data-bind="click: function () { $parent.selectOption($data); }, html: $data, css: { \'btn-primary\': $index() == 0, autofocus: $index() == 0 }"></button>\r\n    </div>\r\n</div>'}),n("durandal/messageBox",[],function(){var e=function(t,n,r){this.message=t,this.title=n||e.defaultTitle,this.options=r||e.defaultOptions};return e.prototype.selectOption=function(e){this.modal.close(e)},e.prototype.activate=function(t){t&&(this.message=t.message,this.title=t.title||e.defaultTitle,this.options=t.options||e.defaultOptions)},e.defaultTitle="Application",e.defaultOptions=["Ok"],e}),n("durandal/transitions/entrance",["../system"],function(e){var t=100,n=function(n,r,a){return e.defer(function(e){function o(){e.resolve()
}function i(){a.keepScrollPosition||$(document).scrollTop(0)}function s(){i(),a.cacheViews?a.composingNewView&&ko.virtualElements.prepend(n,r):(ko.virtualElements.emptyNode(n),ko.virtualElements.prepend(n,r));var e={marginLeft:"20px",marginRight:"-20px",opacity:0,display:"block"},t={marginRight:0,marginLeft:0,opacity:1};$(r).css(e),$(r).animate(t,l,"swing",o)}if(r){var c=$(a.activeView),l=a.duration||500;c.length?c.fadeOut(t,s):s()}else i(),a.activeView?$(a.activeView).fadeOut(t,function(){a.cacheViews||ko.virtualElements.emptyNode(n),o()}):(a.cacheViews||ko.virtualElements.emptyNode(n),o())}).promise()};return n}),n("repositories/dataprimer",["ko","repositories/datacontext","common/logger"],function(e,t,n){var r=function(){return $.Deferred(function(r){var a={category:e.observable(),user:e.observable(),entry:e.observable()};$.when(t.category.getData({results:a.category}),t.user.getData({results:a.user}),t.entry.getData({results:a.entry})).pipe(function(){}).pipe(function(){var e="Fetched data for: <div>"+a.category().length+" categories </div>"+"<div>"+a.user().length+" users </div>"+"<div>"+a.entry().length+" entries </div>";n.info(e,!0,null,null)}).fail(function(){r.reject()}).done(function(){r.resolve()})}).promise()};return{fetch:r}}),n("repositories/entry",[],function(){return{_lastId:3,_entries:[{id:1,price:1,registrydate:"2013-01-01",paymentdate:"2013-01-01",accountId:1,userId:1},{id:1,price:5,registrydate:"2013-01-01",paymentdate:"2013-01-01",accountId:1,userId:1},{id:1,price:2,registrydate:"2013-01-01",paymentdate:"2013-01-01",accountId:1,userId:1}],getAll:function(){return this._entries},addEntry:function(e){e.id=++this._lastId,this._entries.push(e)},getEntry:function(e){for(var t=0;this._entries.length>t;t++)if(this._entries[t].id==e)return this._entries[t]}}}),n("viewmodels/public",["durandal/plugins/router","durandal/app","common/config","common/logger","durandal/system"],function(e,t,n,r,a){var o=this,e=e,i=function(){return s()},s=function(){return r.info("App Loaded! Public Modules",!0,null,a.getModuleId(o)),e.map(n.route.routes.public),e.replaceLocation("#/user/login"),e.activate(n.route.startModule.public)};return{router:e,activate:i}}),n("viewmodels/shell",["durandal/plugins/router","durandal/app","common/config","common/logger","durandal/system","repositories/dataprimer","security/authentication"],function(e,t,n,r,a,o,i){var s=this,c=i.currentUser,e=e,l=function(){t.showMessage("Search not yet implemented...")},u=function(){return o.fetch().then(d)},d=function(){return r.info("App Loaded!",!0,null,a.getModuleId(s)),e.map(n.route.routes.private),e.replaceLocation("#/welcome"),e.activate(n.route.startModule.private)},f=function(){function e(e){"Yes"===e&&i.logOutCurrentUser()}var n="Logout "+c().name()+" ?",r="Confirm Logout";return t.showMessage(n,r,["Yes","No"]).then(e)};return{currentUser:c,router:e,search:l,activate:u,logOut:f}}),n("viewmodels/welcome",["jquery","repositories/datacontext","common/logger","durandal/system","common/breadcrumb","common/config","common/utils","moment","charts/chart.totalTypeTransactionsByMonth","charts/chart.totalCategoriesByMonth"],function(e,t,n,r,a,o,i,s,c,l){var u=ko.observableArray(),d=function(){},f=function(){return e.Deferred(function(n){e.when(t.entry.getTotalTypeTransactionsByMonth()).fail(function(){n.reject()}).done(function(e){new c("#chart-type-transactions",e),n.resolve()})}).promise()},p=function(){return e.Deferred(function(n){e.when(t.entry.getTotalCategoriesByMonth()).fail(function(){n.reject()}).done(function(e){new l("#chart-categories",e),n.resolve()})}).promise()},m=function(){f(),p()};return{entries:u,activate:d,viewAttached:m,pageDisplayName:"Dashboard",pageDescription:"All informations about your personal finance on the same place",breadcrumbNav:a.buildBreadCrumb(o.route.modulesId.welcome)}}),n("viewmodels/category/add",["durandal/app","repositories/datacontext","durandal/plugins/router","models/model.category","common/breadcrumb","common/config"],function(e,t,n,r,a,o){var i=this,s=ko.observable(!1),c=ko.observable(),l=ko.observable(),u=ko.observableArray([]),d=function(){f(),c(new r),u=ko.validation.group(c())},f=function(){function e(){return $.Deferred(function(e){$.when(t.category.getData({results:l})).fail(function(){e.reject()}).done(function(){e.resolve()})}).promise()}e()},p=function(){n.navigateBack()},m=function(){return c().dirtyFlag().reset()},v=ko.computed(function(){return c()?c().dirtyFlag().isDirty():!1}),g=function(){return 0===u().length},h=ko.computed(function(){return v()&&!s()&&g()}),b=function(){function e(){n.replaceLocation("#/category/show")}function r(){m(),s(!1),w()}s(!0),$.when(t.category.addData(c())).then(e).done(r)},y=function(){if(v()){var t="Do you want to leave and cancel?";return e.showMessage(t,"Navigate Away",["Yes","No"]).then(function(e){return e})}return!0},w=function(){n.navigateBack()},i={activate:d,canDeactivate:y,goBack:w,canSave:h,cancel:p,hasChanges:v,category:c,parentCategories:l,save:b,pageDisplayName:"Create Category",pageDescription:"Create a category and let more organized your finances",breadcrumbNav:a.buildBreadCrumb(o.route.modulesId.category.add)};return i}),n("viewmodels/category/details",["durandal/plugins/router","repositories/datacontext","durandal/app","common/breadcrumb","common/config"],function(e,t,n,r,a){var o=ko.observable(),i=ko.observable(),s=ko.observable(!1),c=ko.observable(!1),l=ko.observableArray([]),u=function(e){var t=parseInt(e.id);f(t),d(t)},d=function(e){function n(){$.when(t.category.getAllLeastCurrent(e)).done(function(e){i(e)})}n()},f=function(e,n,r){var a=function(){n&&n(),l=ko.validation.group(o())};t.category.getCategoryById(e,{success:function(e){o(e),a()},error:a},r)},p=function(){e.navigateBack()},m=function(){return o().dirtyFlag().reset()},v=ko.computed(function(){return o()?o().dirtyFlag().isDirty():!1}),g=function(){return 0===l().length},h=ko.computed(function(){return v()&&!s()&&g()}),b=function(){function n(){m(),s(!1),e.replaceLocation("#/category/show")}s(!0),$.when(t.category.updateData(o())).done(n)},y=function(){e.navigateBack()},w=function(){function r(n){function r(){e.navigateTo("#/category/show")}function a(e){p();var t="Error: "+e.message;logger.logError(!0,t,e,system.getModuleId(k))}function i(){return n}"Yes"===n&&$.when(t.category.deleteData(o())).then(r).fail(a).done(i),c(!1)}var a='Delete category "'+o().name()+'" ?',i="Confirm Delete";return c(!0),n.showMessage(a,i,["Yes","No"]).then(r)},k={category:o,parentCategories:i,activate:u,canSave:h,cancel:p,hasChanges:v,save:b,goBack:y,deleteCategory:w,pageDisplayName:"Edit Category",pageDescription:"Edit a category and let more organized your finances",breadcrumbNav:r.buildBreadCrumb(a.route.modulesId.category.details)};return k}),n("viewmodels/category/show",["repositories/datacontext","common/logger","durandal/system","durandal/plugins/router","jquery","durandal/app","common/breadcrumb","common/config"],function(e,t,n,r,a,o,i,s){var c=this,l=ko.observableArray(),u=ko.observable(!1),d=function(){return a.Deferred(function(r){a.when(e.category.getData({results:l})).pipe(function(){t.info("Fetched data for: "+l().length+" categories ",!0,null,n.getModuleId(c))}).fail(function(){r.reject()}).done(function(){r.resolve()})}).promise()},f=function(e){if(e&&e.id()){var t="#/category/details/"+e.id();r.navigateTo(t)}},p=function(e){m(e,".btnEdit",f),m(e,".btnDelete",v)},m=function(e,t,n,r){var o=r||"click";a(e).on(o,t,function(){var e=ko.dataFor(this);return n(e),!1})},v=function(r){function i(o){function i(){l.remove(r)}function s(e){cancel();var r="Error: "+e.message;t.logError(r,!0,e,n.getModuleId(vm))}function c(){return o}"Yes"===o&&a.when(e.category.deleteData(r)).then(i).fail(s).done(c),u(!1)}if(r&&r.id()){var s='Delete category "'+r.name()+'" ?',c="Confirm Delete";return u(!0),o.showMessage(s,c,["Yes","No"]).then(i)}};return{categories:l,activate:d,viewAttached:p,pageDisplayName:"List Category",pageDescription:"All your categories",breadcrumbNav:i.buildBreadCrumb(s.route.modulesId.category.show)}}),n("viewmodels/Entry/add",["durandal/app","jquery","moment","repositories/datacontext","durandal/plugins/router","models/model.entry","models/model.category","models/model.typeTransaction","common/breadcrumb","common/config"],function(e,t,n,r,a,o,i,s,c,l){var u=ko.observable(!1),d=ko.observable(),f=ko.observable(),p=ko.observable(),m=ko.observableArray([]),v=function(){g(),d(new o),m=ko.validation.group(d())},g=function(){function e(){return t.Deferred(function(e){t.when(r.category.getData({results:f})).fail(function(){e.reject()}).done(function(){e.resolve()})}).promise()}function n(){p(s.getAll())}t.when(e(),n())},h=function(){a.navigateBack()},b=function(){return d().dirtyFlag().reset()},y=ko.computed(function(){return d()?d().dirtyFlag().isDirty():!1}),w=function(){return 0===m().length},k=ko.computed(function(){return y()&&!u()&&w()}),x=function(){function e(){b()}function n(){u(!1),v()}u(!0),t.when(r.entry.addData(d())).then(e).done(n)},D=function(){if(y()){var t="Do you want to leave and cancel?";return e.showMessage(t,"Navigate Away",["Yes","No"]).then(function(e){return e})}return!0},I=function(){a.navigateBack()},C={activate:v,canDeactivate:D,canSave:k,cancel:h,hasChanges:y,save:x,goBack:I,entry:d,categories:f,typeTransactions:p,pageDisplayName:"Create an Entry",pageDescription:"Create an entry and let more organized your finances",breadcrumbNav:c.buildBreadCrumb(l.route.modulesId.entry.add)};return C}),n("viewmodels/Entry/daily",["repositories/datacontext","common/logger","durandal/system","durandal/plugins/router","jquery","durandal/app","common/breadcrumb","common/config","underscore","moment"],function(e,t,n,r,a,o,i,s,c,l){var u=this,d=ko.observableArray(),f=ko.observable(!1),p=ko.observableArray(),m=ko.observable(),v=ko.observable(),g=ko.observable(),h=function(){return a.Deferred(function(r){a.when(e.entry.getData({results:d})).pipe(function(){t.info("Fetched data for: "+d().length+" entries ",!0,null,n.getModuleId(u)),b(),D()}).fail(function(){r.reject()}).done(function(){r.resolve()})}).promise()},b=function(){m(l().month()),v(l().year())},y=function(){v(v()-1),D()},w=function(){v(v()+1),D()},k=function(){m(m()-1),D()},x=function(){m(m()+1),D()},D=function(){g(0);var e=c.filter(d(),function(e){return l(e.entryDate()).format("MM")==m()+1&&l(e.entryDate()).format("YYYY")==v()}),t=c.groupBy(e,function(e){return l(e.entryDate()).format("DD")}),n=c.map(t,function(e,t){var n=0,r=0,a=0;return n=c.reduce(e,function(e,t){return 0==t.typeTransaction()?e-t.amount():e+t.amount()},0),r=c.reduce(e,function(e,t){return 0==t.typeTransaction()?e+t.amount():e+0},0),a=c.reduce(e,function(e,t){return 1==t.typeTransaction()?e+t.amount():e+0},0),g(g()+n),{day:t,entries:e,totalday:n,totalExpensesDay:r,totalIncomesDay:a}});p(n)},I=function(e){if(e&&e.id()){var t="#/entry/details/"+e.id();r.navigateTo(t)}},C=function(e){T(e,".btnEdit",I),T(e,".btnDelete",E)},T=function(e,t,n,r){var o=r||"click";a(e).on(o,t,function(){var e=ko.dataFor(this);return n(e),!1})},E=function(r){function i(o){function i(){d.remove(r)}function s(e){cancel();var r="Error: "+e.message;t.logError(r,!0,e,n.getModuleId(vm))}function c(){return o}"Yes"===o&&a.when(e.entry.deleteData(r)).then(i).fail(s).done(c),f(!1)}if(r&&r.id()){var s='Delete entry "'+r.account.name()+'" ?',c="Confirm Delete";return f(!0),o.showMessage(s,c,["Yes","No"]).then(i)}};return{entries:d,activate:h,viewAttached:C,groupentries:p,currentMonth:m,currentYear:v,prevYear:y,nextYear:w,prevMonth:k,nextMonth:x,totalMonth:g,pageDisplayName:"List Entry",pageDescription:"Your entries listed by dailies of the month",breadcrumbNav:i.buildBreadCrumb(s.route.modulesId.entry.show)}}),n("viewmodels/Entry/details",["durandal/plugins/router","repositories/datacontext","durandal/app","models/model.category","models/model.typeTransaction","common/breadcrumb","common/config"],function(e,t,n,r,a,o,i){var s=ko.observable(),c=ko.observable(),l=ko.observable(),u=ko.observableArray([]),d=ko.observable(!1),f=ko.observable(!1),p=function(e){var t=parseInt(e.id);return m(),v(t)},m=function(){function e(){return $.Deferred(function(e){$.when(t.category.getData({results:c})).fail(function(){e.reject()}).done(function(){e.resolve()})}).promise()}function n(){l(a.getAll())}$.when(e(),n())},v=function(e,n,r){var a=function(){n&&n(),u=ko.validation.group(s())};t.entry.getEntryById(e,{success:function(e){s(e),a()},error:a},r)},g=function(){e.navigateBack()},h=function(){return s().dirtyFlag().reset()},b=ko.computed(function(){return s()?s().dirtyFlag().isDirty():!1}),y=function(){return 0===u().length},w=ko.computed(function(){return b()&&!d()&&y()}),k=function(){function n(){h(),e.replaceLocation("#/entry/show")}function r(){d(!1)}d(!0),$.when(t.entry.updateData(s())).then(n).done(r)},x=function(){e.navigateBack()},D=function(){function r(n){function r(){e.navigateTo("#/entry/show")}function a(e){g();var t="Error: "+e.message;logger.logError(!0,t,e,system.getModuleId(I))}function o(){return n}"Yes"===n&&$.when(t.entry.deleteData(s())).then(r).fail(a).done(o),f(!1)}var a='Delete entry "'+s().paymentDate()+'" ?',o="Confirm Delete";return f(!0),n.showMessage(a,o,["Yes","No"]).then(r)},I={activate:p,entry:s,categories:c,typeTransactions:l,canSave:w,cancel:g,hasChanges:b,save:k,goBack:x,deleteItem:D,pageDisplayName:"Edit Entry",pageDescription:"Edit a entry and let more organized your finances",breadcrumbNav:o.buildBreadCrumb(i.route.modulesId.entry.details)};return I}),n("viewmodels/Entry/show",["repositories/datacontext","common/logger","durandal/system","durandal/plugins/router","jquery","durandal/app","common/breadcrumb","common/config"],function(e,t,n,r,a,o,i,s){var c=this,l=ko.observableArray(),u=ko.observable(!1),d=function(){return a.Deferred(function(r){a.when(e.entry.getData({results:l})).pipe(function(){t.info("Fetched data for: "+l().length+" entries ",!0,null,n.getModuleId(c))}).fail(function(){r.reject()}).done(function(){r.resolve()})}).promise()},f=function(e){if(e&&e.id()){var t="#/entry/details/"+e.id();r.navigateTo(t)}},p=function(e){m(e,".btnEdit",f),m(e,".btnDelete",v)},m=function(e,t,n,r){var o=r||"click";a(e).on(o,t,function(){var e=ko.dataFor(this);return n(e),!1})},v=function(r){function i(o){function i(){l.remove(r)}function s(e){cancel();var r="Error: "+e.message;t.logError(r,!0,e,n.getModuleId(vm))}function c(){return o}"Yes"===o&&a.when(e.entry.deleteData(r)).then(i).fail(s).done(c),u(!1)}if(r&&r.id()){var s='Delete entry "'+r.account.name()+'" ?',c="Confirm Delete";return u(!0),o.showMessage(s,c,["Yes","No"]).then(i)}};return{entries:l,activate:d,viewAttached:p,pageDisplayName:"List Entry",pageDescription:"All your entries",breadcrumbNav:i.buildBreadCrumb(s.route.modulesId.entry.show)}}),n("viewmodels/user/add",["durandal/app","repositories/datacontext","durandal/plugins/router","models/model.user","common/breadcrumb","common/config"],function(e,t,n,r,a,o){var i=ko.observable(!1),s=ko.observable(),c=function(){l(),s(new r)},l=function(){},u=function(){n.navigateBack()},d=ko.computed(function(){return s()}),f=ko.computed(function(){return d()?s().dirtyFlag().isDirty():!1}),p=ko.computed(function(){return f()&&!i()}),m=function(){function e(){n.replaceLocation("#/user/show")}function r(){i(!1)}i(!0),d()&&$.when(t.user.addData(s())).then(e).done(r)},v=function(){return!0},g=function(){n.navigateBack()},h={activate:c,canDeactivate:v,canSave:p,cancel:u,hasChanges:f,save:m,user:s,goBack:g,pageDisplayName:"Create New User",pageDescription:"Create a new user",breadcrumbNav:a.buildBreadCrumb(o.route.modulesId.user.add)};return h}),n("viewmodels/user/details",["durandal/plugins/router","repositories/datacontext","durandal/app","common/breadcrumb","common/config"],function(e,t,n,r,a){var o=ko.observable(),i=ko.observable(!1),s=ko.observable(!1),c=function(e){var t=parseInt(e.id);return l(),u(t)},l=function(){},u=function(e,n,r){var a=function(){n&&n()};t.user.getUserById(e,{success:function(e){o(e),a()},error:a},r)},d=function(){e.navigateBack()},f=ko.computed(function(){return o()}),p=ko.computed(function(){return f()?o().dirtyFlag().isDirty():!1}),m=ko.computed(function(){return p()&&!i()}),v=function(){function e(){i(!1)}i(!0),f()&&$.when(t.user.updateData(o())).done(e)},g=function(){e.navigateBack()},h=function(){function r(n){function r(){e.navigateTo("#/user/show")}function a(e){d();var t="Error: "+e.message;logger.logError(!0,t,e,system.getModuleId(b))}function i(){return n}"Yes"===n&&$.when(t.user.deleteData(o())).then(r).fail(a).done(i),s(!1)}var a='Delete user "'+o().login()+'" ?',i="Confirm Delete";return s(!0),n.showMessage(a,i,["Yes","No"]).then(r)},b={user:o,activate:c,canSave:m,cancel:d,hasChanges:p,save:v,goBack:g,deleteUser:h,pageDisplayName:"Edit User",pageDescription:"Edit a user for more personal info",breadcrumbNav:r.buildBreadCrumb(a.route.modulesId.user.details)};return b}),n("viewmodels/user/login",["durandal/plugins/router","durandal/app","common/config","common/logger","durandal/system","repositories/datacontext","durandal/plugins/router","models/model.user","auth0SDK","security/authentication"],function(e,t,n,r,a,o,e,i,s,c){var l=c.currentUser,u=function(){},d=ko.computed(function(){return s&&!l()}),f=function(){Auth0.signIn()},p=function(){e.replaceLocation("#/user/register")},m={activate:u,canLogin:d,login:f,goRegister:p,pageDisplayName:"Login",pageDescription:""};return m}),n("viewmodels/user/register",["durandal/plugins/router","durandal/app","common/config","common/logger","durandal/system","repositories/datacontext","durandal/plugins/router","models/model.user"],function(e,t,n,r,a,o,e,i){var s=this,c=function(){return f(new i),l()},l=function(){return r.info("App Loaded! Login",!0,null,a.getModuleId(s)),e.map(n.routes),!0},u=function(){if(v()){var e="Do you want to leave and cancel?";return t.showMessage(e,"Navigate Away",["Yes","No"]).then(function(e){return e})}return!0},d=ko.observable(!1),f=ko.observable(),p=function(){e.navigateBack()},m=ko.computed(function(){return f()}),v=ko.computed(function(){return m()?f().dirtyFlag().isDirty():!1}),g=ko.computed(function(){return v()&&!d()}),h=function(){function t(){e.replaceLocation("#/user/show")}function n(){d(!1)}d(!0),m()&&$.when(o.user.addData(f())).then(t).done(n)},b=function(){e.navigateBack()},y={activate:c,canDeactivate:u,canSave:g,cancel:p,hasChanges:v,save:h,user:f,goBack:b,pageDisplayName:"Register",pageDescription:""};return y}),n("viewmodels/user/show",["repositories/datacontext","common/logger","durandal/system","durandal/plugins/router","jquery","durandal/app","common/breadcrumb","common/config"],function(e,t,n,r,a,o,i,s){var c=this,l=ko.observableArray(),u=ko.observable(!1),d=function(){return a.Deferred(function(r){a.when(e.user.getData({results:l})).pipe(function(){t.info("Fetched data for: "+l().length+" users ",!0,null,n.getModuleId(c))}).fail(function(){r.reject()}).done(function(){r.resolve()})}).promise()},f=function(e){if(e&&e.id()){var t="#/user/details/"+e.id();r.navigateTo(t)}},p=function(e){m(e,".btnEdit",f),m(e,".btnDelete",v)},m=function(e,t,n,r){var o=r||"click";a(e).on(o,t,function(){var e=ko.dataFor(this);return n(e),!1})},v=function(r){function i(o){function i(){l.remove(r)}function s(e){cancel();var r="Error: "+e.message;t.logError(r,!0,e,n.getModuleId(vm))}function c(){return o}"Yes"===o&&a.when(e.user.deleteData(r)).then(i).fail(s).done(c),u(!1)}if(r&&r.id()){var s='Delete user "'+r.name()+'" ?',c="Confirm Delete";return u(!0),o.showMessage(s,c,["Yes","No"]).then(i)}};return{users:l,activate:d,viewAttached:p,pageDisplayName:"List User",pageDescription:"All your users",breadcrumbNav:i.buildBreadCrumb(s.route.modulesId.user.show)}}),n("text!views/detail.html",[],function(){return'<div class="messageBox autoclose" style="max-width: 425px">\r\n    <div class="modal-header">\r\n        <h3>Details</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n        <p data-bind="html: description"></p>\r\n    </div>\r\n</div>'}),n("text!views/nav-side.html",[],function(){return'<nav id="main-menu">\r\n    <ul id="shell-view" data-bind="foreach: router.visibleRoutes">\r\n        <li data-bind="attr: {class: settings.classColor}">\r\n            <a data-bind="attr: { href: hash, class: settings.classIcon}"></a>\r\n        </li>\r\n    </ul>\r\n</nav>\r\n'}),n("text!views/nav-top.html",[],function(){return'<div class="navbar navbar-fixed-top">\r\n    <div class="navbar-inner">\r\n        <div class="container-fluid">\r\n            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n                <span class="icon-bar"></span>\r\n            </button>\r\n            <nav class="navbar-user pull-right">\r\n                <span data-bind="text: currentUser().name()"></span>\r\n                <img data-bind="attr: { src: currentUser().picture() }" class="user-img img-polaroid" />\r\n                <a href="#" data-bind="click: logOut" class="btn btn-mini" title="Logout"><i class="icon-signout"></i></a>\r\n            </nav>\r\n\r\n            <a class="brand" data-bind="attr: { href: router.allRoutes()[0].hash }" title="dashboard">\r\n                <i class="icon-home"></i>\r\n                <span>Perfinster</span>\r\n            </a>\r\n            <div class="nav-collapse collapse">\r\n                <ul class="nav" data-bind="foreach: router.visibleRoutes">\r\n                    <li data-bind="css: { active: isActive }">\r\n                        <a data-bind="attr: { href: hash }, html: name"></a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),n("text!views/public.html",[],function(){return"<div>\r\n\r\n\r\n    <!--ko compose: { \r\n        model: router.activeItem, //wiring the router\r\n        afterCompose: router.afterCompose, //wiring the router\r\n        transition:'entrance', //use the 'entrance' transition when switching views\r\n        cacheViews:true //telling composition to keep views in the dom, and reuse them (only a good idea with singleton view models)\r\n    }-->\r\n    <!--/ko-->\r\n\r\n</div>\r\n\r\n"}),n("text!views/shell.html",[],function(){return'<div>\r\n    <!-- ko compose: {view: \'nav-top\'} -->\r\n    <!-- /ko-->\r\n\r\n    <div id="wrapper" class="container">\r\n\r\n        <!--Main Content-->\r\n        <section id="main_content">\r\n\r\n            <!--ko compose: { \r\n                model: router.activeItem, //wiring the router\r\n                afterCompose: router.afterCompose, //wiring the router\r\n                transition:\'entrance\', //use the \'entrance\' transition when switching views\r\n                cacheViews:true //telling composition to keep views in the dom, and reuse them (only a good idea with singleton view models)\r\n            }-->\r\n            <!--/ko-->\r\n\r\n        </section>\r\n\r\n        <!--Footer-->\r\n        <footer class="footer">\r\n            <div class="container">\r\n                <span>© 2013 Perfinster</span>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n\r\n</div>\r\n'}),n("text!views/welcome.html",[],function(){return'<div>\r\n\r\n    <!-- Shortcuts -->\r\n    <div class="form-actions-top-right">\r\n        <a href="#/entry/add" class="btn btn-primary">\r\n            <i class="icon-plus"></i>\r\n            Add an Entry\r\n        </a>\r\n    </div>\r\n\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n\r\n    <!-- Title -->\r\n    <h2 class="title-description">\r\n        <span data-bind="html: pageDisplayName"></span>\r\n        <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n    </h2>\r\n\r\n\r\n\r\n\r\n    <!-- Status -->\r\n    <ul id="status-container">\r\n        <li>\r\n            <a href="#">\r\n                <span class="status-top">\r\n                    <i class="icon-money icon-4x pull-left green"></i>\r\n                    <span class="status-title">Week Balance</span>\r\n                </span>\r\n                <span class="status-value">R$ 2.000,00</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href="#">\r\n                <span class="status-top">\r\n                    <i class="icon-money icon-4x pull-left green"></i>\r\n                    <span class="status-title">Month Balance</span>\r\n                </span>\r\n                <span class="status-value">R$ 2.000,00</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href="#">\r\n                <span class="status-top">\r\n                    <i class="icon-money icon-4x pull-left green"></i>\r\n                    <span class="status-title">Month Debts</span>\r\n                </span>\r\n                <span class="status-value">R$ 2.000,00</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href="#">\r\n                <span class="status-top">\r\n                    <i class="icon-money icon-4x pull-left green"></i>\r\n                    <span class="status-title">Year Balance</span>\r\n                </span>\r\n                <span class="status-value">R$ 2.000,00</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    <div style="clear: both"></div>\r\n    <div class="row">\r\n        <div class="span4 chart-box-main">\r\n            <div id="chart-type-transactions" style="width: 100%; height: 300px; margin: 0 auto"></div>\r\n        </div>\r\n        <div class="span8 chart-box-main">\r\n            <div id="chart-categories" style="width: 100%; height: 300px; margin: 0 auto"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),n("text!views/category/add.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: category">\r\n                <label>Category Name</label>\r\n                <input type="text" class="span5" placeholder="Transport..." data-bind="value: name">\r\n                <span class="help-block">Category is a group to organize your finances.</span>\r\n\r\n                <label>Parent Category</label>\r\n                <select data-bind="options: $parent.parentCategories, \r\n                                    optionsText: \'name\', \r\n                                    optionsValue: \'id\', \r\n                                    value: parentCategoryId, \r\n                                    optionsCaption: \'None\', \r\n                                    chosen: true"\r\n                    class="span5">\r\n                </select>\r\n\r\n\r\n                <span class="help-block">Parent Category is a group for this category and others similar Category.</span>\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save</button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel</button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/category/details.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: category">\r\n\r\n                <label>Category Name</label>\r\n                <input type="text" class="span5" placeholder="Transport..." data-bind="value: name">\r\n                <span class="help-block">Category is a group to organize your finances.</span>\r\n\r\n                <label>Parent Category</label>\r\n                <select data-bind="options: $parent.parentCategories, \r\n                                    optionsText: \'name\', \r\n                                    optionsValue: \'id\', \r\n                                    value: parentCategoryId, \r\n                                    optionsCaption: \'None\', \r\n                                    chosen: true"\r\n                    class="span5">\r\n                </select>\r\n                <span class="help-block">Parent Category is a group for this category and others similar Category.</span>\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save\r\n                </button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel\r\n                </button>\r\n\r\n                <button class="btn btn-danger"\r\n                    data-bind="click: deleteCategory, disable: hasChanges">\r\n                    <i class="icon-trash"></i>Delete\r\n                </button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/category/show.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <div class="form-actions-top">\r\n\r\n                <a href="#/category/add" class="btn btn-primary">\r\n                    <i class="icon-plus"></i>\r\n                    Add Category\r\n                </a>\r\n\r\n            </div>\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Category Name</th>\r\n                        <th>Parent Category</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody data-bind="foreach:categories">\r\n                    <tr>\r\n                        <td data-bind="text:id"></td>\r\n                        <td data-bind="text:name"></td>\r\n                        <td data-bind="text:parentCategory().name"></td>\r\n                        <td>\r\n                            <div class="btn-group">\r\n                                <a class="btn btn-small btn-info btnEdit"><i class="icon-pencil"></i></a>\r\n                                <a class="btn btn-small btn-danger btnDelete"><i class="icon-trash"></i></a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'
}),n("text!views/Entry/add.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: entry">\r\n\r\n                <div class="row">\r\n                    <div class="span2">\r\n                        <label>Amount</label>\r\n                        <input type="text" class="span2" placeholder="1,200.30" data-bind="value: amount, meiomask: \'decimal-us\'">\r\n                        <span class="help-block">The cost or receipt of your entry.</span>\r\n                    </div>\r\n\r\n                    <div class="span2">\r\n                        <label>Type Transaction</label>\r\n                        <select data-bind="options: $parent.typeTransactions, \r\n                                    optionsText: \'name\', \r\n                                    optionsValue: \'id\', \r\n                                    value: typeTransaction,\r\n                                    optionsCaption: \'Choose...\', \r\n                                    chosen: true"\r\n                            class="span2">\r\n                        </select>\r\n                        <span class="help-block mt10">Income(+) or Expense(-).</span>\r\n                    </div>\r\n\r\n                    <div class="span3">\r\n                        <label>Entry Date</label>\r\n                        <div class="input-append date">\r\n                            <input class="span2" size="16" placeholder="01/23/2013" type="text"\r\n                                data-bind="datepicker: entryDate, \r\n                                           datepickerOptions: { minDate: new Date() }, \r\n                                           meiomask: \'date\'">\r\n                            <span class="add-on"><i class="icon-calendar"></i></span>\r\n                        </div>\r\n                        <span class="help-block">If you don\'t remember leave empty.</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <label>Category</label>\r\n                <select data-bind="options: $parent.categories, \r\n                                    optionsText: \'name\', \r\n                                    optionsValue: \'id\', \r\n                                    value: categoryId, \r\n                                    optionsCaption: \'Choose...\', \r\n                                    chosen: true"\r\n                    class="span4">\r\n                </select>\r\n                <a href="#/category/add" class="btn btn-primary btn-small" style="margin-top: -5px;">\r\n                    <i class="icon-plus"></i>\r\n                    New Category\r\n                </a>\r\n                <span class="help-block">Organize your entries in categories.</span>\r\n\r\n                <label>Details</label>\r\n                <textarea class="span5" rows=\'5\' cols=\'60\' placeholder="Gift for my wife" data-bind="value: description"></textarea>\r\n                <span class="help-block">Details of your entry.</span>\r\n\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save</button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel</button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/Entry/daily.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n\r\n            <!-- Fields/Tables -->\r\n            <div class="form-actions">\r\n                <a href="#/entry/add" class="btn btn-primary">\r\n                    <i class="icon-plus"></i>\r\n                    New Entry\r\n                </a>\r\n            </div>\r\n            <div >\r\n                <div>\r\n                    <h3 class="text-center">\r\n                        <i class="icon-chevron-left pointer" " data-bind="click: prevYear"/>\r\n                            <span data-bind="text: currentYear"/> \r\n                        <i class="icon-chevron-right pointer" data-bind="click: nextYear" />\r\n                    </h3>\r\n                    <h4 class="text-center">\r\n                        <b class="icon-chevron-left pointer" data-bind="click: prevMonth"/>\r\n                            <span data-bind="text: moment().month(currentMonth()).format(\'MMM\')"/>\r\n                        <i class="icon-chevron-right pointer" data-bind="click: nextMonth"/>\r\n                    </h4>\r\n                </div>\r\n\r\n                <div class="row">\r\n                    <h5 class="text-right span7" >Total Month:</h5><h5 class="text-right span1" data-bind="currency: totalMonth, style: { color: totalMonth < 0 ? \'red\' : \'green\' }"></h5>\r\n                </div>\r\n\r\n                <table class="table table-striped">\r\n                    <thead>\r\n                        <tr class="row">\r\n                            <th class="span1" style="float: left; height: 28px; width: 10px;">#</th>\r\n\r\n                            <th class="span5" style="float: left;">Category</th>\r\n                            <th class="span3" style="float: left;">Amount</th>\r\n                            <th class="span2" style="float: left;">Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                </table>\r\n                <div data-bind="foreach: groupentries">\r\n                    <h3 data-bind="text: day" class="span1"></h3>\r\n                    <table class="table table-striped">\r\n                        <tbody data-bind="foreach: entries">\r\n                            <tr>\r\n                                <th style="float: left; height: 28px; width: 10px; background-color: blanchedalmond;"></th>\r\n\r\n                                <td class="span5" style="float: left;" data-bind="text: category().name, title: description"></td>\r\n                                <td class="span3" style="float: left;" data-bind="currency: amount, style: { color: typeTransaction() == 0 ? \'red\' : \'green\' }" ></td>\r\n                                <td class="span2" style="float: left;">\r\n                                    <div class="btn-group">\r\n                                        <a class="btn btn-info btnEdit"><i class="icon-pencil"></i></a>\r\n                                        <a class="btn btn-danger btnDelete"><i class="icon-trash"></i></a>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class="row">\r\n                        <h5 class="text-right span4 " style="color:green" data-bind="currency: totalIncomesDay"></h5>\r\n                        <h5 class="text-right span1 " style="color:red" data-bind="currency: totalExpensesDay"></h5>\r\n                        <h5 class="text-right span2">subtotal:</h5> <h5 class="text-right span1 " data-bind="currency: totalday, style: { color: totalday < 0 ? \'red\' : \'green\' }"></h5>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n            </div>\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/Entry/details.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: entry">\r\n\r\n                <div class="row">\r\n                    <div class="span2">\r\n                        <label>Amount</label>\r\n                        <input type="text" class="span2" placeholder="1,200.30" data-bind="value: amount, meiomask: \'decimal-us\'">\r\n                        <span class="help-block">The cost or receipt of your entry.</span>\r\n                    </div>\r\n\r\n                    <div class="span2">\r\n                        <label>Type Transaction</label>\r\n                        <select data-bind="options: $parent.typeTransactions, \r\n                                    optionsText: \'name\', \r\n                                    optionsValue: \'id\', \r\n                                    value: typeTransaction,\r\n                                    optionsCaption: \'Choose...\', \r\n                                    chosen: true"\r\n                            class="span2">\r\n                        </select>\r\n                        <span class="help-block mt10">Income(+) or Expense(-).</span>\r\n                    </div>\r\n\r\n                    <div class="span3">\r\n                        <label>Entry Date</label>\r\n                        <div class="input-append date">\r\n                            <input class="span2" size="16" placeholder="01/23/2013" type="text"\r\n                                data-bind="datepicker: entryDate, \r\n                                           datepickerOptions: { minDate: new Date() }, \r\n                                           meiomask: \'date\'">\r\n                            <span class="add-on"><i class="icon-calendar"></i></span>\r\n                        </div>\r\n                        <span class="help-block">If you don\'t remember leave empty.</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <label>Category</label>\r\n                <select data-bind="options: $parent.categories, \r\n                                    optionsText: \'name\', \r\n                                    optionsValue: \'id\', \r\n                                    value: categoryId, \r\n                                    optionsCaption: \'Choose...\', \r\n                                    chosen: true"\r\n                    class="span4">\r\n                </select>\r\n                <a href="#/account/add" class="btn btn-primary btn-small" style="margin-top: -5px;">\r\n                    <i class="icon-plus"></i>\r\n                    New Category\r\n                </a>\r\n                <span class="help-block">Organize your entries in categories.</span>\r\n\r\n                <label>Details</label>\r\n                <textarea class="span5" rows=\'5\' cols=\'60\' placeholder="Gift for my wife" data-bind="value: description"></textarea>\r\n                <span class="help-block">Details of your entry.</span>\r\n\r\n            </section>\r\n\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save\r\n                </button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel\r\n                </button>\r\n\r\n                <button class="btn btn-danger"\r\n                    data-bind="click: deleteItem, disable: hasChanges">\r\n                    <i class="icon-trash"></i>Delete\r\n                </button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/Entry/show.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n\r\n            <!-- Fields/Tables -->\r\n            <div class="form-actions-top">\r\n                <a href="#/entry/add" class="btn btn-primary">\r\n                    <i class="icon-plus"></i>\r\n                    Add an Entry\r\n                </a>\r\n            </div>\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Type</th>\r\n                        <th>Amount</th>\r\n                        <th>Entry Date</th>\r\n                        <th>Create Date</th>\r\n                        <th>Category</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody data-bind="foreach: entries">\r\n                    <tr>\r\n                        <td data-bind="text: id"></td>\r\n                        <td data-bind="text: typeTransactionName"></td>\r\n                        <td data-bind="currency: amount"></td>\r\n                        <td data-bind="moment: entryDate"></td>\r\n                        <td data-bind="moment: createDate"></td>\r\n                        <td data-bind="text: category().name"></td>\r\n                        <td>\r\n                            <div class="btn-group">\r\n                                <a class="btn btn-small btn-info btnEdit"><i class="icon-pencil"></i></a>\r\n                                <a class="btn btn-small btn-danger btnDelete"><i class="icon-trash"></i></a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/user/add.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: user">\r\n                <label>User Login</label>\r\n                <input type="text" class="span5" placeholder="login..." data-bind="value: login">\r\n                <span class="help-block">Login is necessary to access the web site.</span>\r\n\r\n                <label>User Password</label>\r\n                <input type="text" class="span5" placeholder="Password..." data-bind="value: password">\r\n                <span class="help-block">.</span>\r\n\r\n                <label>Confirm Password</label>\r\n                <input type="text" class="span5" placeholder="Confirm Password...">\r\n                <span class="help-block">Please rewrite your password.</span>\r\n\r\n                <label>Email </label>\r\n                <input type="text" class="span5" placeholder="Email..." data-bind="value: email">\r\n                <span class="help-block">Your Email to full access and features.</span>\r\n\r\n                <label>User Name</label>\r\n                <input type="text" class="span5" placeholder="Your Name..." data-bind="value: name">\r\n                <span class="help-block">Your Name to show in web site.</span>\r\n\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save</button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel</button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/user/details.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: user">\r\n                <label>User Login</label>\r\n                <input type="text" class="span5" placeholder="login..." data-bind="value: login">\r\n                <span class="help-block">Login is necessary to access the web site.</span>\r\n\r\n                <label>User Password</label>\r\n                <input type="text" class="span5" placeholder="Password..." data-bind="value: password">\r\n                <span class="help-block">.</span>\r\n\r\n                <label>Confirm Password</label>\r\n                <input type="text" class="span5" placeholder="Confirm Password...">\r\n                <span class="help-block">Please rewrite your password.</span>\r\n\r\n                <label>Email </label>\r\n                <input type="text" class="span5" placeholder="Email..." data-bind="value: email">\r\n                <span class="help-block">Your Email to full access and features.</span>\r\n\r\n                <label>User Name</label>\r\n                <input type="text" class="span5" placeholder="Your Name..." data-bind="value: name">\r\n                <span class="help-block">Your Name to show in web site.</span>\r\n\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save\r\n                </button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel\r\n                </button>\r\n\r\n                <button class="btn btn-danger"\r\n                    data-bind="click: deleteData, disable: hasChanges">\r\n                    <i class="icon-trash"></i>Delete\r\n                </button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/user/login.html",[],function(){return'<div>\r\n    <form id="box-login" class="box-center">\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields">\r\n                <p>\r\n                    You don\'t need create a new user just to use the Perfinster.\r\n                    Instead enjoy with your existing account of:\r\n                </p>\r\n                <ul>\r\n                    <li><b>Google</></b> </li>\r\n                    <li><b>Facebook</b></li>\r\n                </ul>\r\n                <p>\r\n                    <em>For others authentications <a href="#">contact us</a>.</em>\r\n                </p>\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n                <button style="float: right;" type="submit" class="btn btn-primary"\r\n                    data-bind="click: login, enable: canLogin">\r\n                    <i class="icon-lock"></i>Login</button>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/user/register.html",[],function(){return'<div>\r\n    <form id="box-register" class="box-center">\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <!-- Fields -->\r\n            <section class="fields" data-bind="with: user">\r\n\r\n                <label>User Name</label>\r\n                <input type="text" class="span4" placeholder="Your Name..." data-bind="value: name">\r\n                <span class="help-block">Your Name to show in web site.</span>\r\n\r\n                <label>Email </label>\r\n                <input type="text" class="span4" placeholder="Email..." data-bind="value: email">\r\n                <span class="help-block">Your Email to full access and features.</span>\r\n\r\n                <hr />\r\n\r\n                <label>User Login</label>\r\n                <input type="text" class="span4" placeholder="login..." data-bind="value: login">\r\n                <span class="help-block">Login is necessary to access the web site.</span>\r\n\r\n                <div class="row">\r\n                    <div class="span2">\r\n                        <label>User Password</label>\r\n                        <input type="text" class="span2" placeholder="Password..." data-bind="value: password">\r\n                        <span class="help-block">A good password.</span>\r\n                    </div>\r\n\r\n                    <div class="span2">\r\n                        <label>Confirm Password</label>\r\n                        <input type="text" class="span2" placeholder="Confirm Password...">\r\n                        <span class="help-block">Please rewrite your password.</span>\r\n                    </div>\r\n                </div>\r\n\r\n            </section>\r\n\r\n            <!-- Buttons -->\r\n            <div class="form-actions">\r\n\r\n                <button type="submit" class="btn btn-primary"\r\n                    data-bind="click: save, enable: canSave">\r\n                    <i class="icon-save"></i>Save</button>\r\n\r\n                <button type="reset" class="btn"\r\n                    data-bind="click: cancel, enable: canSave">\r\n                    <i class="icon-undo"></i>Cancel</button>\r\n\r\n                <button class="btn btn-info" data-bind="click: goBack">\r\n                    <i class="icon-hand-left"></i>Back\r\n                </button>\r\n                <i class="icon-asterisk" data-bind="visible: hasChanges"></i>\r\n            </div>\r\n\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/user/show.html",[],function(){return'<div>\r\n    <!--Breadcrumb Navigation-->\r\n    <!-- ko compose: {view: \'_shared/breadcrumb\'} -->\r\n    <!-- /ko-->\r\n    <form>\r\n        <fieldset>\r\n            <!-- Title -->\r\n            <legend class="title-description">\r\n                <span data-bind="html: pageDisplayName"></span>\r\n                <span class="title-description-info" data-bind="html: pageDescription"></span>\r\n            </legend>\r\n\r\n            <div class="form-actions-top">\r\n                <a href="#/user/add" class="btn btn-primary">\r\n                    <i class="icon-plus"></i>\r\n                    Add User\r\n                </a>\r\n            </div>\r\n            <table class="table table-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>User Login</th>\r\n                        <th>User Password</th>\r\n                        <th>User Name</th>\r\n                        <th>Email</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody data-bind="foreach:users">\r\n                    <tr>\r\n                        <td data-bind="text:id"></td>\r\n                        <td data-bind="text:login"></td>\r\n                        <td data-bind="text:password"></td>\r\n                        <td data-bind="text:name"></td>\r\n                        <td data-bind="text:email"></td>\r\n                        <td>\r\n                            <div class="btn-group">\r\n                                <a class="btn btn-small btn-info btnEdit"><i class="icon-pencil"></i></a>\r\n                                <a class="btn btn-small btn-danger btnDelete"><i class="icon-trash"></i></a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </fieldset>\r\n    </form>\r\n</div>\r\n'}),n("text!views/_shared/breadcrumb.html",[],function(){return'<nav id="breadcrumb" data-bind="foreach: breadcrumbNav">\r\n    <i data-bind="attr: { class: iconClass }"></i>\r\n    <a data-bind="text: lable, attr: { href: url, class: current}"></a>\r\n</nav>'}),t(["main"])})();